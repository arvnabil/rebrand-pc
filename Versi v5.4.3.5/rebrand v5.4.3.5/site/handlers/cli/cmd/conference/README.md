# Скрипты для удаления конференций

##### 1. Удалить конференции, созданные до определенного момента времени
###### ```delete_created_before.php```
###### Принимает обязательный параметр:
- `before` - Метка, до которой следует удалять конференции в формате Unix Timestamp.

Скрипт удаляет конференции, которые были созданы ранее переданной Timestamp метки, основываясь на значении поля `created` каждой конференции в реестре.
###### Пример вызова:
```path/to/php path/to/delete_created_before.php --before=1612180459```

##### 2. Удалить одноразовые конференции, окончание которых попадает во временной интервал
###### `delete_once.php`
###### Принимает опциональные параметры:
- `startPeriod` - Метка, после которой следует удалять конференции в формате Unix Timestamp, по умолчанию равен 0.
- `endPeriod` - Метка, до которой следует удалять конференции в формате Unix Timestamp, по умолчанию равен `PHP_INT_MAX`.
######  Поддержаны следующие условия:
- endPeriod не может быть меньше startPeriod.
- Удалены будут только одноразовые конференции.
- Если конференция была изменена в течение указанного периода, пропускаем ее (это определяется скрытым параметром `last_write_time`).
- Если конференция запущена, она не будет удалена.
- Если не удалось прочитать длительность, не удаляем конференцию.
- Если не удалось прочитать расписание, не удаляем конференцию.
- Если Unix Timestamp метка окончания конференции попадает в интервал, она будет удалена.
###### Пример вызова:
```path/to/php path/to/delete_created_before.php --startPeriod=1610180459 --endPeriod=1612180459```

##### 3. Удалить конференции, которые не были активны после определенного момента времени
###### `delete_inactive.php`
###### Принимает обязательный параметр:
- `date_from` - Метка, после которой конференции считаются активными в формате Unix Timestamp.
###### Принимает опциональный параметр:
- `type` - Тип(ы) расписания конференций, которые необходимо удалить в формате строки.  
В строке могут присутствовать три поддерживаемых типа конференций:
    - `simple` - без расписания
    - `once`   - одноразовые
    - `week`   - еженедельные

Разделитель между типами не важен, идет простой поиск по вхождению подстроки.
При этом важен регистр самих типов (только нижний).

###### Пример для удаления только одноразовых конференций:
`path/to/php path/to/delete_inactive.php --date_from=1610180459 --type="once"`
###### Пример для удаления одноразовых, еженедельных и конференций без расписания:
`path/to/php path/to/delete_inactive.php --date_from=1610180459 --type="simple,once,week"`