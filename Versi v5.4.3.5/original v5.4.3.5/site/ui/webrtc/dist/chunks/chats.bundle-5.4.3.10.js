(self.webpackChunk_tc_server_webrtc_client=self.webpackChunk_tc_server_webrtc_client||[]).push([[936],{47053:function(e,t,s){"use strict";var a=s(78355),n=s(56342);t.A=(e,t=null)=>{if(e.target.matches("a")){e.stopPropagation();const s=e.target.href.match(/^trueconf:(.+)&do=profile$/);s&&(e.preventDefault(),(0,n.II)().split("/")[0]!==s[1]&&(a.A.openByEvent({event:e,menuType:"mention",targetConferenceUserWithPadding:{trueconfId:s[1]}}),t?.()))}}},87624:function(e,t,s){"use strict";s.d(t,{A:function(){return m}});var a=s(25993),n=s(34005),i=s.n(n);var o=["http","https","visicall","trueconf","conferendo","ftp","mailto"];const r=`(href="(${o.join("|")})?:[\\w\\d-_.]{1,255}[^\\s|"|']*)"`,l=`((${o.join("|")})+?:\\/\\/[\\w\\d-_.]{1,255}[^\\s|"|']*)`,c=[new RegExp(l,"gi"),/(?:|^)([\w\p{L}\d][\w\p{L}\d\.\\\/_:-]*[\w\p{L}\d-]\.[\w\p{L}-]{2,25}(:\d{2,5})?(\/[^\s]*)?)/giu];function d(e,t){return`<a href="${-1===e.search(/^[a-zA-Z]+:\/\//i)?`//${t}`:t}" target="_blank" rel="noopener">${t}</a>`}var h=s(79201);function m(e){let t=(0,a.A)(e.replace(/(<br>|<br\/>)/g,"\r\n"));t=function(e){return i()(e,{whiteList:{b:[],i:[],u:[],s:[],br:[],a:["href","title","target"]},onTag(e,t){return"a"===e&&-1===t.indexOf("_blank")?t.replace(/<a\s/g,'<a target="_blank" rel="noopener"'):t}})}(t);const s=function(e){if(-1!==e.search(new RegExp(r)))return e;let t=e;return c.forEach((s=>{-1!==e.search(s)&&(t=e.replace(s,d))})),t}(t);return(0,h.A)(s)}},79201:function(e,t,s){"use strict";s.d(t,{A:function(){return i}});const a={":devil:":"1f47f","]:-)":"1f47f","]:)":"1f47f",":angel:":"1f47c","o:-)":"1f47c","o:)":"1f47c",":headphones:":"1f3a7","[:-)":"1f3a7","[:)":"1f3a7",":rose:":"1f339","@}-&gt;--":"1f339","@}&gt;--":"1f339","@}-&gt;-":"1f339","@}&gt;-":"1f339",":girl:":"1f469","8:-)":"1f469","8:)":"1f469",":nerd:":"1f913","B-|":"1f913","B|":"1f913","8|":"1f913","8-|":"1f913",":lol:":"1f603",":-D":"1f603",":D":"1f603",":-))":"1f603",":))":"1f603",":smile:":"1f60a",":)":"1f60a",":-)":"1f60a",":razz:":"1f60b",":-p":"1f60b",":p":"1f60b",":P":"1f60b",":-P":"1f60b",":wink:":"1f609",";-)":"1f609",";)":"1f609",":kiss:":"1f61a",":-*":"1f61a",":*":"1f61a",":love:":"1f60d",":in_love:":"1f60d",":sad:":"1f612",":-(":"1f612",":(":"1f612",":cry:":"1f622",":'-(":"1f622",":'(":"1f622",":neutral:":"1f610",":-|":"1f610",":|":"1f610",":shy:":"1f615",":-[":"1f615",":[":"1f615",":trouble:":"1f633","%-|":"1f633","%|":"1f633",":angry:":"1f620","&gt;:-(":"1f620","&gt;:-[":"1f620",":surprise:":"1f632",o_O:"1f632",oO:"1f632",":sing:":"1f62e",":-O":"1f62e",":O":"1f62e",":vampire:":"1f987",":-E":"1f987",":E":"1f987",":buzz:":"1f910",":!:":"1f910",":cool:":"1f60e","B-)":"1f60e","B)":"1f60e","8-)":"1f60e","8)":"1f60e",":thumb:":"1f44d",":thumbsup:":"1f44d",":+1:":"1f44d",":like:":"1f44d",":spit:":"1f617",":scream:":"1f631"},n=(()=>{const e=Object.keys(a);for(let t=0;t<e.length;t++)e[t]=e[t].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");return new RegExp(`(?:^|\\s)(${e.join("|")})(?=(?:\\s|$))`,"gm")})();function i(e){return e.replace(n,(e=>{e=e.replace(/\s/g,"");const t=a[e];return` <img src="/public/images/smiles-webrtc/${t}.png" alt="${e}" /> `}))}},19364:function(e,t,s){"use strict";s.d(t,{Ay:function(){return c},N6:function(){return r},Xr:function(){return d}});var a=s(52037),n=s.n(a);function i(e,t){return["getFullYear","getMonth","getDate"].every((s=>e[s]()===t[s]()))}function o(e){return{weekDays:[this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Sun"),this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Mon"),this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Tue"),this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Wed"),this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Thu"),this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Fri"),this.pgettext("A text hint indicating when the last activity was detected in the selected chat. Here, we are using the shortened names of weekdays. If possible, use the abbreviated names of weekdays that are normally used in the target language. The translated text preferably should be up to 3 characters. Any text, which is longer than this limit, will be clipped.","Sat")],months:[this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","January"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","February"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","March"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","April"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","May"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","June"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","July"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","August"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","September"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","October"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","November"),this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","December")],shortMonths:[this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Jan"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Feb"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Mar"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Apr"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","May"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Jun"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Jul"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Aug"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Sep"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Oct"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Nov"),this.pgettext("A status displayed in the chat history and user profile. It indicates when the user was last seen online. A month name that should be abbreviated according to the rules of the target language.","Dec")]}[e]}function r(e){const t=e instanceof Date?e:new Date(e);return`${n()(t.getHours(),2,"0")}:${n()(t.getMinutes(),2,"0")}`}function l(e,t=[]){const s=e instanceof Date?e:new Date(e),a=new Map;a.set("today",((e,t)=>i(e,t))),a.set("yesterday",((e,t)=>i(new Date(new Date(e).setDate(e.getDate()-1)),t))),a.set("last-week",((e,t)=>{const s=e,a=new Date((new Date).setDate(e.getDate()-6));return a.setHours(0),a.setMinutes(0),a.setSeconds(0),t.getTime()<=s.getTime()&&t.getTime()>=a.getTime()})),a.set("this-year",((e,t)=>e.getFullYear()===t.getFullYear())),a.set("more-then-year",((e,t)=>e.getFullYear()>t.getFullYear()));let n="more-then-year";for(const[e,i]of a.entries())if(!t.includes(e)&&i(new Date,s)){n=e;break}return{foundFormatKey:n,d:s}}function c(e){const{d:t,foundFormatKey:s}=l(e instanceof Date?e:new Date(e));return{today:r,yesterday:()=>this.pgettext("A status indicating when the last activity in the chat was detected.","Yesterday"),"last-week":e=>o.call(this,"weekDays")[e.getDay()],"this-year":e=>`${`${e.getDate()}`.padStart(2,0)} ${o.call(this,"shortMonths")[e.getMonth()]}`,"more-then-year":e=>`${`${e.getDate()}`.padStart(2,0)}.${`${e.getMonth()+1}`.padStart(2,0)}.${e.getFullYear()}`}[s](t)}function d(e){const{d:t,foundFormatKey:s}=l(e instanceof Date?e:new Date(e),["last-week"]);return{today:()=>this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","Today"),yesterday:()=>this.pgettext("A month name used in chat history to separate messages sent on different days and months. It is always used with date (e.g. 7 July) and should be inflected according to the rules of the target language.","Yesterday"),"this-year":e=>`${`${e.getDate()}`.padStart(2,0)} ${o.call(this,"months")[e.getMonth()]}`,"more-then-year":e=>`${`${e.getDate()}`.padStart(2,0)} ${o.call(this,"months")[e.getMonth()]} ${e.getFullYear()}`}[s](t)}},39399:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,".common-chat-avatar{border-radius:50%;border:1px solid rgba(0,0,0,.24);box-sizing:border-box;display:flex}.common-chat-avatar__icon{margin:auto;color:rgba(0,0,0,.54);font-size:24px}",""]),e.exports=n},75841:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.chat-option{border:0;padding:0;cursor:pointer;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.chat-option-message a,.chat-option-message .a{color:#2979ff;text-decoration:underline}.chat-option-message b{font-weight:600}.chat-option-message i{font-style:italic}.chat-option-wrap{background-color:#fff;position:relative;font-size:0}.chat-option{top:0;left:0;height:100%;width:100%;height:64px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.chat-option__content{position:absolute;top:0;left:0;height:100%;width:100%}.chat-option-content{display:flex;flex-flow:row nowrap;align-items:center}.chat-option-content__middle{flex:1 1 0%;min-width:0}.chat-option-middle{display:flex;flex-flow:column nowrap}.chat-option-middle>:not(:last-child){margin-bottom:2px}.chat-option-content__avatar{flex-shrink:0;margin:0 16px}.chat-option-avatar{height:40px;width:40px}.chat-option-name{text-align:left;font-size:14px;color:#000;line-height:19px}.chat-option-message{text-align:left;font-size:13px;color:rgba(0,0,0,.54);height:1.3846153846em}.chat-option-message b{color:rgba(0,0,0,.7)}.chat-option-message span img{height:16px}.chat-option-file-name,.chat-option-author-name{color:#00838f}.chat-option-controls{padding:0 16px;height:37px;display:flex;flex-flow:column nowrap;align-items:center}.chat-option-controls>:not(:last-child){margin-bottom:1px}.chat-option-controls-time{font-size:11px;font-weight:500;color:rgba(0,0,0,.54);line-height:19px}',""]),e.exports=n},40022:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.chat-select-loading{display:flex;justify-content:center;align-items:center}.chat-select{background-color:#fff;display:flex;flex-flow:column nowrap;align-items:stretch}.chat-select__search{flex-shrink:0}.chat-select__list{flex:1 1 0%;overflow-y:auto}.chat-select__list::-webkit-scrollbar{width:8px;background:rgba(0,0,0,.15);margin:0px 0px 0px 0px}.chat-select__list::-webkit-scrollbar-button:vertical:decrement{background:rgba(0,0,0,0);height:8px}.chat-select__list::-webkit-scrollbar-button:vertical:increment{background:rgba(0,0,0,0);height:8px}.chat-select__list::-webkit-scrollbar-thumb{min-height:32px;background:#999;border-radius:2px;background-clip:content-box}.chat-select-list{height:100%;display:flex;flex-flow:column nowrap;align-items:stretch}',""]),e.exports=n},17871:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.picture-viewer-modal .tc-modal{width:100%}.picture-viewer-modal .tc-modal{height:100%}.picture-viewer-modal .tc-modal-container{height:100%}.picture-viewer-modal .tc-modal{max-width:100%}.picture-viewer-modal .tc-modal{max-height:100%}.picture-viewer-modal .tc-modal-container{height:100%}.picture-viewer-modal .tc-modal{background-color:transparent}.picture-viewer-modal .tc-modal .tc-modal__header{padding-left:0;padding-right:0;padding-top:0}.picture-viewer-modal .tc-modal .tc-modal__content{margin-top:0;margin-bottom:0}.picture-viewer-modal .tc-modal .tc-modal__footer{padding-left:0;padding-right:0;padding-bottom:0}.picture-viewer-modal .tc-modal-container,.picture-viewer-modal .tc-modal-preloader{padding:0}.picture-viewer-modal .tc-modal .tc-modal__content{padding-left:0;padding-right:0}.picture-viewer-modal__header{display:flex;flex-grow:1;justify-content:space-between;align-items:center}.picture-viewer-modal__close-icon{background-color:rgba(0,0,0,.87);margin:8px 8px 0 0;width:48px;height:48px;font-size:48px}.picture-viewer-modal__header .picture-viewer-modal__close-icon i{font-size:24px}.picture-viewer-modal__close-icon .tc-icon__icon{color:#fff}.picture-viewer-modal__close-icon .tc-icon__icon svg{fill:#fff}.picture-viewer-modal__close-icon .tc-icon__icon{width:48px;height:48px;font-size:48px}.picture-viewer-modal__info{display:flex;flex-direction:column;background-color:rgba(0,0,0,.87);margin:8px 0 0 8px;border-radius:8px;padding:10px}.picture-viewer-modal__info>:not(:last-child){margin-bottom:4px}.picture-viewer-modal__info-title{color:#fff;font-weight:500}.picture-viewer-modal__info-description-container{display:flex;color:rgba(255,255,255,.54)}.picture-viewer-modal__info-description-container>:not(:last-child){margin-right:8px}.picture-viewer-modal__content-container{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.picture-viewer-modal__image{max-width:750px;max-height:500px}',""]),e.exports=n},61003:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.delete-confirmation-modal .tc-modal{max-width:100%}.delete-confirmation-modal .tc-modal{width:480px}.delete-confirmation-modal__description{color:rgba(0,0,0,.541)}.delete-confirmation-modal__checkbox{margin-left:-5px;margin-top:20px}.delete-confirmation-modal__footer{display:flex;flex-direction:row;justify-content:flex-end}.delete-confirmation-modal__footer>:not(:last-child){margin-right:16px}.main-modal__button--cancel .mdc-button--text:not(:disabled) .mdc-button__icon,.main-modal__button--cancel .mdc-button--outlined:not(:disabled) .mdc-button__icon{color:#000}.main-modal__button--cancel .mdc-button--text:not(:disabled),.main-modal__button--cancel .mdc-button--outlined:not(:disabled){color:#000}.main-modal__button--cancel .mdc-button--text:not(:disabled),.main-modal__button--cancel .mdc-button--outlined:not(:disabled){border-color:#000}.main-modal__button--cancel .mdc-button--text .mdc-button__ripple:before,.main-modal__button--cancel .mdc-button--text .mdc-button__ripple:after,.main-modal__button--cancel .mdc-button--outlined .mdc-button__ripple:before,.main-modal__button--cancel .mdc-button--outlined .mdc-button__ripple:after{background-color:#000}.main-modal__button--cancel .mdc-button--text .mdc-button__icon svg,.main-modal__button--cancel .mdc-button--outlined .mdc-button__icon svg{fill:#000}.main-modal__button--cancel .mdc-button--text .tc-button__loader svg,.main-modal__button--cancel .mdc-button--outlined .tc-button__loader svg{stroke:#000}.main-modal__button--cancel .mdc-button--raised:not(:disabled),.main-modal__button--cancel .mdc-button--unelevated:not(:disabled){background-color:#000}.main-modal__button--cancel .mdc-button--raised:not(:disabled),.main-modal__button--cancel .mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-text-primary-on-dark, white)}.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::after{background-color:#fff}@supports not (-ms-ime-align: auto){.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::after{background-color:var(--mdc-theme-text-primary-on-dark, white)}}.main-modal__button--cancel .mdc-button--raised:hover .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated:hover .mdc-button__ripple::before{opacity:.08}.main-modal__button--cancel .mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:.24}.main-modal__button--cancel .mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.main-modal__button--cancel .mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:.24}.main-modal__button--cancel .mdc-button--raised.mdc-ripple-upgraded,.main-modal__button--cancel .mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.main-modal__button--cancel .mdc-button--raised .tc-button__loader svg,.main-modal__button--cancel .mdc-button--unelevated .tc-button__loader svg{stroke:#fff}',""]),e.exports=n},31328:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.file-drop-overlay{position:absolute;left:0;top:0;right:0;bottom:0;background:rgba(255,255,255,.75);display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:100}.file-drop-overlay.with-anchor{position:fixed}.file-drop-overlay-icon{font-size:36px;margin-bottom:14px}',""]),e.exports=n},72961:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.chat-message-form__file-upload-button,.chat-message-form__smile-button,.chat-message-form__send-button{border:0;padding:0;cursor:pointer;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.sending-message-preloader{width:80%}.sending-message-preloader .tc-preloader--circle{width:80%;height:80%}.sending-message-preloader .tc-preloader--cube{width:80%;height:80%}.sending-message-preloader .tc-preloader--fountain{width:80%;height:calc(80% - 87%)}.sending-message-preloader .tc-fountain-ie{width:3.2%;height:3.2%}@keyframes fountain-preloader{0%,100%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}10%{box-shadow:-36% 0 0 .3em #0097a7,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}20%{box-shadow:-36% 0 0 .1em #0097a7,-28% 0 0 .2em #0097a7,-20% 0 0 .3em #0097a7,-12% 0 0 .1em,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}30%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em #0097a7,-20% 0 0 .2em #0097a7,-12% 0 0 .3em #0097a7,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}40%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em #0097a7,-12% 0 0 .2em #0097a7,-4% 0 0 .3em #0097a7,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}50%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em #0097a7,-4% 0 0 .2em #0097a7,4% 0 0 .3em #0097a7,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}60%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em,-4% 0 0 .1em #0097a7,4% 0 0 .2em #0097a7,12% 0 0 .3em #0097a7,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .1em}70%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em #0097a7,20% 0 0 .2em #0097a7,28% 0 0 .3em #0097a7,36% 0 0 .1em}80%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em #0097a7,28% 0 0 .2em #0097a7,36% 0 0 .3em #0097a7}90%{box-shadow:-36% 0 0 .1em,-28% 0 0 .1em,-20% 0 0 .1em,-12% 0 0 .1em,-4% 0 0 .1em,4% 0 0 .1em,12% 0 0 .1em,20% 0 0 .1em,28% 0 0 .1em,36% 0 0 .2em #0097a7}}.chat-message-form{position:relative;border-top:1px solid rgba(0,0,0,.12);background-color:#fff}.chat-message-form.chat-message-form--disabled{background-color:rgba(0,0,0,.06);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;align-items:center}.chat-message-form.chat-message-form--disabled input,.chat-message-form.chat-message-form--disabled button{opacity:.38}.chat-message-form__send-button{height:48px;width:48px;display:flex;justify-content:center;align-items:center;font-size:24px;position:absolute;top:0;right:0;color:#0099a6;transition:color 250ms ease}.chat-message-form__send-button:disabled{color:rgba(0,0,0,.54);cursor:default !important}.chat-message-form__send-button:disabled:hover{background-color:transparent !important}.chat-message-form__file-upload-button,.chat-message-form__smile-button{height:48px;width:48px;font-size:24px;position:absolute;top:0;left:0;color:rgba(0,0,0,.54)}.chat-message-form__file-upload-button--disabled,.chat-message-form__smile-button--disabled{color:rgba(0,0,0,.21);cursor:default}.chat-message-form-label{display:flex;font-size:0;padding:10px 48px;box-sizing:border-box;cursor:text;position:relative}.chat-message-form-label.chat-message-form-label--no-smiles{padding-left:18px}.chat-message__text-block{width:100%;height:100%;padding:5px;border:1px solid #d8d8d8;border-radius:3px;position:relative}.chat-message__text-block_red{border:1px solid red;border-radius:3px;position:relative}.chat-message__count-block{height:16px;background:#fff;top:-10px;left:15px;position:absolute;display:flex}.chat-message__count-text{font-size:12px;margin:auto;padding:0px 3px}.chat-message__count-text_red{color:red}.chat-message-form-textarea{font-size:14px;line-height:19px;background-color:transparent;border:none;box-sizing:border-box;padding:0;width:100%;height:20px;color:rgba(0,0,0,.87);resize:none;outline:none}.chat-message-form-textarea::-webkit-input-placeholder{-webkit-transition:color 200ms ease;transition:color 200ms ease;color:rgba(0,0,0,.54)}.chat-message-form-textarea:-moz-placeholder{-moz-transition:color 200ms ease;transition:color 200ms ease;color:rgba(0,0,0,.54)}.chat-message-form-textarea::-moz-placeholder{-moz-transition:color 200ms ease;transition:color 200ms ease;color:rgba(0,0,0,.54)}.chat-message-form-textarea:-ms-input-placeholder{-ms-transition:color 200ms ease;transition:color 200ms ease;color:rgba(0,0,0,.54)}.chat-message-form-textarea:focus::-webkit-input-placeholder{color:rgba(0,0,0,.38)}.chat-message-form-textarea:focus:-moz-placeholder{color:rgba(0,0,0,.38)}.chat-message-form-textarea:focus::-moz-placeholder{color:rgba(0,0,0,.38)}.chat-message-form-textarea:focus:-ms-input-placeholder{color:rgba(0,0,0,.38)}.chat-message-form-textarea.tab-focus:focus{outline:#0099a6 solid 2px}.chat-message-form-textarea::-webkit-scrollbar{width:8px;background:rgba(0,0,0,.15);margin:0px 0px 0px 0px}.chat-message-form-textarea::-webkit-scrollbar-button:vertical:decrement{background:rgba(0,0,0,0);height:8px}.chat-message-form-textarea::-webkit-scrollbar-button:vertical:increment{background:rgba(0,0,0,0);height:8px}.chat-message-form-textarea::-webkit-scrollbar-thumb{min-height:32px;background:#999;border-radius:2px;background-clip:content-box}',""]),e.exports=n},46165:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.sending-files-modal .tc-modal{max-width:100%}.sending-files-modal .tc-modal{width:380px}.sending-files-modal .tc-modal{max-height:100%}.sending-files-modal .tc-modal-container{height:100%}.sending-files-modal .tc-modal .tc-modal__content{overflow-y:auto}.sending-files-modal__content{height:100%}.sending-files-modal_sending-files{max-height:calc(100% - 46px - 22px);overflow-y:auto;margin-bottom:22px}.sending-files-modal_sending-files::-webkit-scrollbar{width:8px;background:rgba(0,0,0,.15);margin:0px 0px 0px 0px}.sending-files-modal_sending-files::-webkit-scrollbar-button:vertical:decrement{background:rgba(0,0,0,0);height:8px}.sending-files-modal_sending-files::-webkit-scrollbar-button:vertical:increment{background:rgba(0,0,0,0);height:8px}.sending-files-modal_sending-files::-webkit-scrollbar-thumb{min-height:32px;background:#999;border-radius:2px;background-clip:content-box}.sending-files-modal_sending-files>:not(:last-child){margin-bottom:16px}.sending-files-modal_sending-file{display:flex;justify-content:space-between}.sending-files-modal_sending-file-icons{display:flex;color:rgba(0,0,0,.54);font-size:2em}.sending-files-modal_sending-file-icons i{cursor:pointer}.sending-files-modal_message-input>.mdc-text-field-helper-line{display:none}.sending-files-modal__footer{display:flex;flex-direction:row;justify-content:space-between}.sending-files-modal__footer>:not(:last-child){margin-right:16px}.sending-files-modal__side-buttons{display:flex}.main-modal__button--cancel .mdc-button--text:not(:disabled) .mdc-button__icon,.main-modal__button--cancel .mdc-button--outlined:not(:disabled) .mdc-button__icon{color:#000}.main-modal__button--cancel .mdc-button--text:not(:disabled),.main-modal__button--cancel .mdc-button--outlined:not(:disabled){color:#000}.main-modal__button--cancel .mdc-button--text:not(:disabled),.main-modal__button--cancel .mdc-button--outlined:not(:disabled){border-color:#000}.main-modal__button--cancel .mdc-button--text .mdc-button__ripple:before,.main-modal__button--cancel .mdc-button--text .mdc-button__ripple:after,.main-modal__button--cancel .mdc-button--outlined .mdc-button__ripple:before,.main-modal__button--cancel .mdc-button--outlined .mdc-button__ripple:after{background-color:#000}.main-modal__button--cancel .mdc-button--text .mdc-button__icon svg,.main-modal__button--cancel .mdc-button--outlined .mdc-button__icon svg{fill:#000}.main-modal__button--cancel .mdc-button--text .tc-button__loader svg,.main-modal__button--cancel .mdc-button--outlined .tc-button__loader svg{stroke:#000}.main-modal__button--cancel .mdc-button--raised:not(:disabled),.main-modal__button--cancel .mdc-button--unelevated:not(:disabled){background-color:#000}.main-modal__button--cancel .mdc-button--raised:not(:disabled),.main-modal__button--cancel .mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-text-primary-on-dark, white)}.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::after{background-color:#fff}@supports not (-ms-ime-align: auto){.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--raised .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated .mdc-button__ripple::after{background-color:var(--mdc-theme-text-primary-on-dark, white)}}.main-modal__button--cancel .mdc-button--raised:hover .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated:hover .mdc-button__ripple::before{opacity:.08}.main-modal__button--cancel .mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.main-modal__button--cancel .mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:.24}.main-modal__button--cancel .mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.main-modal__button--cancel .mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after,.main-modal__button--cancel .mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:.24}.main-modal__button--cancel .mdc-button--raised.mdc-ripple-upgraded,.main-modal__button--cancel .mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.main-modal__button--cancel .mdc-button--raised .tc-button__loader svg,.main-modal__button--cancel .mdc-button--unelevated .tc-button__loader svg{stroke:#fff}',""]),e.exports=n},68464:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.message-modifier{display:flex;justify-content:space-between;align-items:center;height:35px;padding:12px 16px}.message-modifier>:not(:last-child){margin-right:15px}.message-modifier .icon-font,.message-modifier .icon-svg{padding:5px}.message-modifier .no-padding{padding:0}.message-modifier .one-line{line-height:18px}.message-modifier__multiselect-actions{display:flex}.message-modifier__multiselect-actions>:not(:last-child){margin-right:8px}.message-modifier__content-wrapper{display:flex;flex-grow:1;overflow:hidden}.message-modifier__content-preview-picture{display:flex;align-self:center;margin-right:8px;height:32px;width:32px}.message-modifier__content-preview-picture>img{height:100%;width:100%}.message-modifier__content{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}.message-modifier__content__primary{color:#00838f;font-weight:500}.message-modifier__close-icon,.message-modifier__icon{font-size:24px}.message-modifier__icon{color:#00838f}.message-modifier__close-icon{cursor:pointer;color:#666}.message-modifier.message-modifier--multiselect{background:purple}.message-modifier.message-modifier--multiselect .message-modifier__close-icon,.message-modifier.message-modifier--multiselect .message-modifier__icon,.message-modifier.message-modifier--multiselect .message-modifier__content__content{color:#fff}',""]),e.exports=n},57612:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,"a.chat-message-file.reset-link{color:inherit;text-decoration:none}",""]),e.exports=n},40655:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,".chat-message-file-preview{position:relative}.chat-message-file-preview__img{position:relative;width:100%;cursor:pointer}.chat-message-file-preview__img--blured{filter:blur(2px)}.chat-message-file-preview .chat-message-file-circle{position:absolute;min-width:unset;width:36px;height:36px;background-color:gray;cursor:pointer;font-style:normal;font-size:1em}.chat-message-file-preview .chat-message-file-circle:hover{opacity:.8}.chat-message-file-preview__progress{position:absolute;top:0;left:0;width:36px;height:36px}",""]),e.exports=n},16826:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,".chat-message-file{display:flex;justify-content:center}.chat-message-file .file-icon{position:absolute;color:#fff;font-style:normal;font-size:1.6em}.chat-message-file-circle{position:relative;border-radius:50%;display:flex;justify-content:center;align-items:center;background-color:#0097a7;width:48px;min-width:48px;height:48px}.chat-message-file-circle .file-loader{position:absolute}",""]),e.exports=n},98515:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.chat-message-empty-loading{width:100%;display:flex;justify-content:center}.chat-message-empty-preloader{width:100px}.chat-message-empty-preloader .tc-preloader--circle{width:100px;height:100px}.chat-message-empty-preloader .tc-preloader--cube{width:100px;height:100px}.chat-message-empty-preloader .tc-preloader--fountain{width:100px;height:calc(100px - 87%)}.chat-message-empty-preloader .tc-fountain-ie{width:4px;height:4px}@keyframes fountain-preloader{0%,100%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}10%{box-shadow:-45px 0 0 .3em #0097a7,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}20%{box-shadow:-45px 0 0 .1em #0097a7,-35px 0 0 .2em #0097a7,-25px 0 0 .3em #0097a7,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}30%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em #0097a7,-25px 0 0 .2em #0097a7,-15px 0 0 .3em #0097a7,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}40%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em #0097a7,-15px 0 0 .2em #0097a7,-5px 0 0 .3em #0097a7,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}50%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em #0097a7,-5px 0 0 .2em #0097a7,5px 0 0 .3em #0097a7,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}60%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em #0097a7,5px 0 0 .2em #0097a7,15px 0 0 .3em #0097a7,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}70%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em #0097a7,25px 0 0 .2em #0097a7,35px 0 0 .3em #0097a7,45px 0 0 .1em}80%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em #0097a7,35px 0 0 .2em #0097a7,45px 0 0 .3em #0097a7}90%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .2em #0097a7}}',""]),e.exports=n},60099:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.chat-message-author-wrap--button{border:0;padding:0;cursor:pointer;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.chat-message-cloud a,.chat-message-cloud .a{color:#2979ff;text-decoration:underline}.chat-message-cloud b{font-weight:600}.chat-message-cloud i{font-style:italic}.chat-message-author-wrap{margin:6px 0}.chat-message-author-wrap--button{margin:6px 0;border-radius:2px;outline:0}.chat-message-author-wrap--button:hover .chat-message-author-name,.chat-message-author-wrap--button:focus .chat-message-author-name{text-decoration:underline}.chat-message-author-wrap--button.chat-message-author-wrap--selected .chat-message-author-name{color:rgba(0,0,0,.54)}.chat-message-author-wrap--button:active .chat-message-author-name{color:rgba(0,0,0,.54)}.chat-message-author{display:flex;flex-flow:row nowrap;align-items:center;justify-content:flex-start;padding:0 4px}.chat-message-author>:not(:last-child){margin-right:8px}.chat-message-author-avatar{height:24px;width:24px;z-index:2;margin-right:-3px}.chat-message-author-name{flex:1 1 0%;font-size:14px;line-height:24px;font-weight:500;color:rgba(0,0,0,.87);text-align:left}.chat-message-author-name--right{text-align:right}.chat-message-cloud{z-index:1;padding:8px 16px;border-radius:12px;max-width:70%;font-size:14px;line-height:19px;word-wrap:break-word;display:flex;flex-direction:column;-webkit-user-select:text;-moz-user-select:text;user-select:text}.chat-message-cloud.chat-message-cloud--no-tail::after,.chat-message-cloud.chat-message-cloud--no-tail::before{content:none !important}.chat-message-cloud--text{white-space:pre-line;color:rgba(0,0,0,.87)}.chat-message-cloud--text.chat-message-cloud--me{background-color:#cbe9ed;position:relative;margin-right:8px}.chat-message-cloud--text.chat-message-cloud--me:before{content:"";position:absolute;z-index:-1;top:2px;right:-7px;height:20px;border-right:40px solid #cbe9ed;border-top-left-radius:26px 14px;transform:translate(0, -2px);color:#cbe9ed}.chat-message-cloud--text.chat-message-cloud--me:after{content:"";position:absolute;top:2px;right:-56px;width:26px;height:20px;background:#f2f2f2;border-top-left-radius:10px;transform:translate(-30px, -2px)}.chat-message-cloud--text.chat-message-cloud--them{background-color:#fff;position:relative;margin-left:8px}.chat-message-cloud--text.chat-message-cloud--them:before{content:"";position:absolute;z-index:-1;top:2px;left:-7px;height:20px;border-left:40px solid #fff;border-top-right-radius:26px 14px;transform:translate(0, -2px);color:#fff}.chat-message-cloud--text.chat-message-cloud--them:after{content:"";position:absolute;top:2px;left:4px;width:26px;height:20px;background:#f2f2f2;border-top-right-radius:10px;transform:translate(-30px, -2px)}@keyframes message-highlight-animation{0%,100%{background-color:transparent}50%{background-color:#0097A71A}}@keyframes message-highlight-animation-cloud{0%,100%{background-color:#f2f2f2}50%{background-color:#dee8ea}}.author-clickable,.forward-message-author-clickable{cursor:pointer}.chat-message-cloud--author{color:#0097a7}.chat-message-cloud--text.chat-message-cloud--padded{margin-left:34px}.chat-message-cloud--grow{flex-grow:1}.forward-message{color:#0097a7;font-weight:500}.chat-message{display:flex;flex-flow:column nowrap;padding-right:8px;padding-top:4px;padding-bottom:4px}.date-label-wrapper{width:100%;display:flex;justify-content:center;padding:4px 0}.date-label-wrapper--floating{transition:opacity 250ms ease;opacity:0;position:absolute;top:20px;left:0;z-index:1;width:calc(100% - 8px)}.date-label-wrapper--floating-appeared{opacity:1}.date-label{background-color:rgba(255,255,255,.5);height:20px;padding:0 12px;font-size:13px;border-radius:20px;display:flex;align-items:center;color:rgba(0,0,0,.54)}.reply-message{display:flex;flex-direction:column;border-left:2px solid #0097a7;padding-left:6px;margin-bottom:7px}.reply-message-removed{color:rgba(0,0,0,.55)}.reply-message:not(.reply-message-removed){cursor:pointer}.reply-message-author{color:#0097a7;font-size:13px}.reply-message-picture-container{display:flex}.reply-message-picture-container__picture{margin-right:8px;height:32px;width:32px}.reply-message-picture-container__content{display:flex;flex-direction:column}.reply-message-picture-container__content span{line-height:normal}.chat-message-text-and-time{position:relative;display:flex;flex-flow:row nowrap;justify-content:flex-end;margin:0 4px}.chat-message-text-and-time:not(.chat-message-text-and-time--not-my)>:not(:last-child){margin-right:8px}.chat-message-text-and-time.chat-message-text-and-time--not-my{justify-content:flex-start}.chat-message-text-and-time.chat-message-text-and-time--not-my>:not(:last-child){margin-left:8px}.chat-message-text-and-time--selected{background-color:#0097A71A}.chat-message-text-and-time--selected .chat-message-cloud--text::before,.chat-message-text-and-time--selected .chat-message-cloud--text::after{background-color:#dee8ea}.chat-message-text-and-time--selected::before,.chat-message-text-and-time--selected::after{content:"";height:100%;left:-999px;width:999px;position:absolute;background-color:#0097A71A}.chat-message-text-and-time--selected::after{left:100%}.chat-message-text-and-time--highlight-animation{background-color:transparent}.chat-message-text-and-time--highlight-animation .chat-message-cloud--text::before,.chat-message-text-and-time--highlight-animation .chat-message-cloud--text::after{background-color:transparent}.chat-message-text-and-time--highlight-animation::before,.chat-message-text-and-time--highlight-animation::after{content:"";height:100%;left:-999px;width:999px;position:absolute;background-color:transparent}.chat-message-text-and-time--highlight-animation::after{left:100%}.chat-message-text-and-time--context-menu-selected{background-color:rgba(0,0,0,.04)}.chat-message-text-and-time--context-menu-selected .chat-message-cloud--text::before,.chat-message-text-and-time--context-menu-selected .chat-message-cloud--text::after{background-color:#e9e9e9}.chat-message-text-and-time--context-menu-selected::before,.chat-message-text-and-time--context-menu-selected::after{content:"";height:100%;left:-999px;width:999px;position:absolute;background-color:rgba(0,0,0,.04)}.chat-message-text-and-time--context-menu-selected::after{left:100%}.chat-message-text-and-time--highlight-animation{animation:message-highlight-animation 1.5s ease-out}.chat-message-text-and-time--highlight-animation .chat-message-cloud--text::before,.chat-message-text-and-time--highlight-animation .chat-message-cloud--text::after{animation:message-highlight-animation-cloud 1.5s ease-out}.chat-message-text-and-time--highlight-animation::before,.chat-message-text-and-time--highlight-animation::after{animation:message-highlight-animation 1.5s ease-out}.chat-message-text-and-time__time{font-size:11px;line-height:15px;color:rgba(0,0,0,.54);font-weight:500;align-self:flex-end;-webkit-user-select:none;-moz-user-select:none;user-select:none}',""]),e.exports=n},72027:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,".system-message-text{min-height:20px;display:flex;justify-content:center}.system-message-text span{text-align:center;color:#767676;padding:7px}",""]),e.exports=n},67271:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.scroll-button-transition-enter,.scroll-button-transition-leave-to{opacity:0;transform:scale(0)}.scroll-button-transition-leave,.scroll-button-transition-enter-to{opacity:1;transform:scale(1)}.scroll-button-transition-enter-active,.scroll-button-transition-leave-active{will-change:transform,opacity;transition:opacity 100ms ease,transform 100ms ease}.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.messages-list{position:relative;height:100%;flex:1 1 0%;display:flex;justify-content:center;overflow:hidden;background-color:#f2f2f2;position:relative}.messages-list-placeholder{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.messages-list_messages{padding:0;box-sizing:border-box;overflow:hidden auto;height:100%;width:100%}.messages-list_messages::-webkit-scrollbar{width:8px;background:rgba(0,0,0,.15);margin:0px 0px 0px 0px}.messages-list_messages::-webkit-scrollbar-button:vertical:decrement{background:rgba(0,0,0,0);height:8px}.messages-list_messages::-webkit-scrollbar-button:vertical:increment{background:rgba(0,0,0,0);height:8px}.messages-list_messages::-webkit-scrollbar-thumb{min-height:32px;background:#999;border-radius:2px;background-clip:content-box}.messages-list_messages .tc-list-container{height:100%;overflow-x:hidden}.messages-list_messages .tc-list{overscroll-behavior:contain;overflow-x:hidden;padding-top:8px}.messages-list-go-bottom-button{position:absolute;bottom:10px;right:10px;opacity:.8;z-index:2}.messages-list-go-bottom-button .tc-button:not([disabled]){background-color:#999 !important}.messages-list-go-bottom-button .tc-button:not([disabled]) .mdc-button__ripple:before,.messages-list-go-bottom-button .tc-button:not([disabled]) .mdc-button__ripple:after{background-color:#000 !important}.messages-list-go-bottom-button .mdc-button--text:not(:disabled) .mdc-button__icon,.messages-list-go-bottom-button .mdc-button--outlined:not(:disabled) .mdc-button__icon{color:#fff}.messages-list-go-bottom-button .mdc-button--text:not(:disabled),.messages-list-go-bottom-button .mdc-button--outlined:not(:disabled){color:#fff}.messages-list-go-bottom-button .mdc-button--text:not(:disabled),.messages-list-go-bottom-button .mdc-button--outlined:not(:disabled){border-color:#fff}.messages-list-go-bottom-button .mdc-button--text .mdc-button__ripple:before,.messages-list-go-bottom-button .mdc-button--text .mdc-button__ripple:after,.messages-list-go-bottom-button .mdc-button--outlined .mdc-button__ripple:before,.messages-list-go-bottom-button .mdc-button--outlined .mdc-button__ripple:after{background-color:#fff}.messages-list-go-bottom-button .mdc-button--text .mdc-button__icon svg,.messages-list-go-bottom-button .mdc-button--outlined .mdc-button__icon svg{fill:#fff}.messages-list-go-bottom-button .mdc-button--text .tc-button__loader svg,.messages-list-go-bottom-button .mdc-button--outlined .tc-button__loader svg{stroke:#fff}.messages-list-go-bottom-button .mdc-button--raised:not(:disabled),.messages-list-go-bottom-button .mdc-button--unelevated:not(:disabled){background-color:#fff}.messages-list-go-bottom-button .mdc-button--raised:not(:disabled),.messages-list-go-bottom-button .mdc-button--unelevated:not(:disabled){color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-light, rgba(0, 0, 0, 0.87))}.messages-list-go-bottom-button .mdc-button--raised .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--raised .mdc-button__ripple::after,.messages-list-go-bottom-button .mdc-button--unelevated .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--unelevated .mdc-button__ripple::after{background-color:rgba(0,0,0,.87)}@supports not (-ms-ime-align: auto){.messages-list-go-bottom-button .mdc-button--raised .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--raised .mdc-button__ripple::after,.messages-list-go-bottom-button .mdc-button--unelevated .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--unelevated .mdc-button__ripple::after{background-color:var(--mdc-theme-text-primary-on-light, rgba(0, 0, 0, 0.87))}}.messages-list-go-bottom-button .mdc-button--raised:hover .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--unelevated:hover .mdc-button__ripple::before{opacity:.04}.messages-list-go-bottom-button .mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.messages-list-go-bottom-button .mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:.12}.messages-list-go-bottom-button .mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple::after,.messages-list-go-bottom-button .mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.messages-list-go-bottom-button .mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after,.messages-list-go-bottom-button .mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:.12}.messages-list-go-bottom-button .mdc-button--raised.mdc-ripple-upgraded,.messages-list-go-bottom-button .mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.messages-list-go-bottom-button .mdc-button--raised .tc-button__loader svg,.messages-list-go-bottom-button .mdc-button--unelevated .tc-button__loader svg{stroke:rgba(0,0,0,.8)}.messages-list-go-bottom-button .tc-button{border-radius:18px}.messages-list-go-bottom-button .tc-button .mdc-button__ripple{border-radius:18px}.messages-list-go-bottom-button .tc-button .mdc-button__ripple{border-radius:50%}.disable-layer{position:absolute;top:0;left:0;background-color:transparent;width:100%;height:100%;z-index:1}',""]),e.exports=n},51239:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.chat{position:relative;display:flex;flex-flow:column nowrap;align-items:stretch;overflow:hidden}.chat-message-form-container{display:flex;justify-content:center;min-height:52px}.chat-message-form-container__preloader{width:100px}.chat-message-form-container__preloader .tc-preloader--circle{width:100px;height:100px}.chat-message-form-container__preloader .tc-preloader--cube{width:100px;height:100px}.chat-message-form-container__preloader .tc-preloader--fountain{width:100px;height:calc(100px - 87%)}.chat-message-form-container__preloader .tc-fountain-ie{width:4px;height:4px}@keyframes fountain-preloader{0%,100%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}10%{box-shadow:-45px 0 0 .3em #0097a7,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}20%{box-shadow:-45px 0 0 .1em #0097a7,-35px 0 0 .2em #0097a7,-25px 0 0 .3em #0097a7,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}30%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em #0097a7,-25px 0 0 .2em #0097a7,-15px 0 0 .3em #0097a7,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}40%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em #0097a7,-15px 0 0 .2em #0097a7,-5px 0 0 .3em #0097a7,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}50%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em #0097a7,-5px 0 0 .2em #0097a7,5px 0 0 .3em #0097a7,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}60%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em #0097a7,5px 0 0 .2em #0097a7,15px 0 0 .3em #0097a7,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .1em}70%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em #0097a7,25px 0 0 .2em #0097a7,35px 0 0 .3em #0097a7,45px 0 0 .1em}80%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em #0097a7,35px 0 0 .2em #0097a7,45px 0 0 .3em #0097a7}90%{box-shadow:-45px 0 0 .1em,-35px 0 0 .1em,-25px 0 0 .1em,-15px 0 0 .1em,-5px 0 0 .1em,5px 0 0 .1em,15px 0 0 .1em,25px 0 0 .1em,35px 0 0 .1em,45px 0 0 .2em #0097a7}}.chat-message-form-container__stub{display:flex;justify-content:center;align-items:center;text-align:center;width:100%;padding:0 16px 16px 16px;line-height:18px;background-color:#f2f2f2}.chat-message-form-container__form{flex-grow:1}.messages-minimap{z-index:1000;position:fixed;top:0;left:0;bottom:0;width:200px;display:flex;flex-direction:column;background:#fff}.messages-minimap>div{border-bottom:1px solid #789;flex-grow:1}.messages-minimap>div.loaded{background:#32cd32}.messages-minimap>div.loading{background:#ff0}.messages-minimap>div.unloaded{background:red}',""]),e.exports=n},71910:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.search__input{border:none;outline:none;padding:0;background-color:transparent}.search__input::-ms-clear,.search__input::-ms-reveal{display:none;width:0;height:0}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.search{margin:16px;margin-bottom:8px;display:flex;cursor:text;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative}.search__icon{position:absolute;left:0;top:0;height:100%;pointer-events:none;width:56px;color:rgba(0,0,0,.24);font-size:20px}.search__input{flex:1 1 100%;padding-left:56px;padding-right:16px;height:40px;box-sizing:border-box;border-radius:2px;font-size:14px;border-style:solid;border-width:1px;transition:background-color 200ms ease,border-color 100ms ease,color 200ms ease}.search__input:not(:focus){color:rgba(0,0,0,.54);background-color:#fafafa;border-color:rgba(0,0,0,.06)}.search__input:focus{color:rgba(0,0,0,.87);border-color:rgba(0,153,166,.7)}.search__input::-webkit-input-placeholder{color:rgba(0,0,0,.38)}.search__input:-moz-placeholder{color:rgba(0,0,0,.38)}.search__input::-moz-placeholder{color:rgba(0,0,0,.38)}.search__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}',""]),e.exports=n},822:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.mobile-header__title{color:#fff;font-size:20px;font-weight:500;text-align:center;position:absolute;left:48px;right:48px;top:0;line-height:48px}.conference-card-header__buttons{display:flex;align-items:center}.conference-card-header__buttons--no-wrap{white-space:nowrap}.conference-card-header__context-menu{display:flex}.mobile-header__button{height:48px;width:48px;border-radius:2px}.chat-badge-wrap{position:relative}.chat-badge-wrap__value{position:absolute;top:5px;right:3px}.chat-name-without-button{padding-left:16px}.conference-empty-button{cursor:default}',""]),e.exports=n},85886:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.conference-card-layout__chat-header{padding-left:0;justify-content:flex-start}.conference-card-layout__chat-header>:not(:last-child){margin-right:16px}',""]),e.exports=n},991:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.chat-badge-wrap{position:relative}.chat-badge-wrap__value{position:absolute;top:5px;right:3px}',""]),e.exports=n},21014:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,'.mdl-checkbox.is-checked .mdl-checkbox__tick-outline,.mdl-checkbox.is-checked.is-disabled .mdl-checkbox__tick-outline{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiI…lsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K");background-color:#009688}.pulse-animation-enter-active{animation-duration:350ms;animation-name:pulse-animation}.badge-with-number{height:18px;width:18px;line-height:18px;background-color:#f57f17;border-radius:50%;text-align:center;font-size:10px;font-weight:600;color:#fff}',""]),e.exports=n},25962:function(e,t,s){var a=s(31601),n=s(76314)(a);n.push([e.id,".chat-message-file{position:relative;display:flex;justify-content:center}.chat-message-file .file-icon{position:absolute;color:#fff;font-style:normal;font-size:1.6em}.chat-message-file--disabled{background-color:#fff}.chat-message-file--disabled .file-name{opacity:.4}.chat-message-file--disabled span.file-size{font-weight:400;color:#f03a46}.chat-message-file--disabled .chat-message-file-circle{opacity:.4}.chat-message-file-preview{width:100%;cursor:pointer}.chat-message-file-circle{position:relative;border-radius:50%;display:flex;justify-content:center;align-items:center;background-color:#0097a7;width:48px;min-width:48px;height:48px}.chat-message-file-circle .file-loader{position:absolute;top:0;left:0;width:48px;height:48px}.chat-message-file-info{margin-left:5px;display:flex;flex-direction:column;justify-content:center}.chat-message-file-info .file-name{text-wrap:nowrap;position:relative;font-weight:600;margin-bottom:5px}.chat-message-file-info .file-size{font-weight:300}",""]),e.exports=n},19916:function(e,t,s){"use strict";s.d(t,{A:function(){return N}});var a=function(){var e=this,t=e._self._c;return e.isLoading?t("section",{staticClass:"chat-select-loading"},[t("TcPreloader")],1):t("section",{staticClass:"chat-select"},[t("search",{ref:"search",staticClass:"chat-select__search",model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e._v(" "),t("section",{staticClass:"chat-select__list"},[0===e.filteredSortedChats.length?t("p",{staticClass:"placeholder placeholder--no-search-result"},[e._v("\n      "+e._s(e.searchQuery.length>=1?e.gettext("No results found"):e.gettext("No chats"))+"\n    ")]):t("TcList",{staticClass:"chat-select-list",attrs:{dataComponent:e.ChatOption,dataSources:e.filteredSortedChats},on:{click:e.handleChatSelect}})],1)],1)};a._withStripped=!0;var n=s(50429),i=s(67016),o=s(9336),r=s(86296),l=function(){var e=this,t=e._self._c;return t("section",{staticClass:"chat-option-wrap"},[t("button",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"chat-option ripple-container",on:{mousedown:function(e){e.stopPropagation()},click:function(t){return e.$emit("click",e.source)}}},[t("section",{staticClass:"chat-option__content chat-option-content"},[[e.isCommonChat?t("common-chat-avatar",{staticClass:"chat-option-avatar chat-option-content__avatar"}):e.terminalAvatar?t("avatar",{staticClass:"chat-option-avatar chat-option-content__avatar",attrs:{name:e.companion.name,inlineSrc:e.terminalAvatar}}):t("avatar",{staticClass:"chat-option-avatar chat-option-content__avatar",attrs:{name:e.companion.name,src:e.companion.avatar}})],e._v(" "),t("section",{staticClass:"chat-option-content__middle chat-option-middle"},[t("p",{staticClass:"chat-option-name one-line"},[e._v("\n          "+e._s(e.chatNameSource.displayName)+"\n        ")]),e._v(" "),t("div",{staticClass:"chat-option-message one-line"},[e.lastMessage?[e.lastMessage.isSystemMessage?e._e():t("span",{staticClass:"chat-option-author-name"},[e._v("\n              "+e._s(e.authorName)+"\n            ")]),e._v(" "),e.lastMessage.isFile?t("span",{staticClass:"chat-option-file-name"},[e._v("\n              "+e._s(e.lastMessage.text)+"\n            ")]):e._e(),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.sanitizedLastMessageText)}})]:t("span",[e._v("\n            "+e._s(e.gettext("No messages"))+"\n          ")])],2)]),e._v(" "),t("section",{staticClass:"chat-option-content__controls chat-option-controls"},[t("p",{staticClass:"chat-option-controls-time"},[e._v("\n          "+e._s(e.lastMessageTime)+"\n        ")]),e._v(" "),t("badge-with-number",{attrs:{number:e.unreadMessagesNumber}})],1)],2)])])};l._withStripped=!0;var c=s(94214),d=s(25993),h=s(79201),m=s(26665),g=function(){var e=this._self._c;return e("div",{staticClass:"common-chat-avatar"},[e("icon",{staticClass:"common-chat-avatar__icon",attrs:{name:"supervisor_account"}})],1)};g._withStripped=!0;var u={name:"CommonChatAvatar",components:{Icon:s(76508).A}},p=(s(83872),s(14486)),f=(0,p.A)(u,g,[],!1,null,null,null).exports,b=s(19364),x=s(68669),_=s(57574),w=s(21167),v='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#B3A4CD;}\n\t.st1{fill:#9575CD;}\n\t.st2{fill:#C0B9CD;}\n\t.st3{fill:#A690CD;}\n\t.st4{fill:#FFFFFF;}\n</style>\n<g>\n\t<g>\n\t\t<rect x="0" y="-0.3" class="st0" width="480" height="480"/>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st0" points="240,239.7 480,479.7 0,479.7 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st1" points="240,240.7 0,-0.3 480,-0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st2" points="240,240.3 0,480.3 0,0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st3" points="240,240.3 480,0.3 480,480.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n\t<g>\n\t\t<rect x="197.8" y="155.7" class="st3" width="184" height="184"/>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M157,361.7H123c-5.8,0-10.5-4.7-10.5-10.5V151.2c0-5.8,4.7-10.5,10.5-10.5H157c5.8,0,10.5,4.7,10.5,10.5\n\t\t\t\t\t\t\tv199.9C167.5,356.9,162.8,361.7,157,361.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<path class="st4" d="M391.5,171c0-10.1-8.3-18.3-18.3-18.3h-48.3H207.4h-30.9v196h30.9h117.4h48.3c10.1,0,18.3-8.3,18.3-18.3\n\t\t\t\t\t\t\t\tV171z M358.2,336.7H222.8c-10.1,0-18.3-8.3-18.3-18.3V180c0-10.1,8.3-18.3,18.3-18.3h135.3c10.1,0,18.3,8.3,18.3,18.3v138.3\n\t\t\t\t\t\t\t\tC376.5,328.4,368.2,336.7,358.2,336.7z"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<path class="st4" d="M103.5,151.8c-8.4,1.1-15,8.8-15,18.2v161.1c0,9.4,6.6,17.1,15,18.2V151.8z"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M318,118.7h-52c-6.9,0-12.5,5.6-12.5,12.5v9c0,6.9,5.6,12.5,12.5,12.5h52c6.9,0,12.5-5.6,12.5-12.5v-9\n\t\t\t\t\t\t\tC330.5,124.3,324.9,118.7,318,118.7z M290.4,146.7c-6.4,0-11.5-5.2-11.5-11.5s5.2-11.5,11.5-11.5c6.4,0,11.5,5.2,11.5,11.5\n\t\t\t\t\t\t\tS296.7,146.7,290.4,146.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<circle class="st4" cx="290.4" cy="239.6" r="42.2"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<path class="st4" d="M331.9,278.1c-10.2,11.4-25,18.6-41.6,18.6c-16.5,0-31.3-7.2-41.6-18.6c-14.9,10.9-25.7,27.4-29.8,46.6\n\t\t\t\t\t\t\t\th142.6C357.7,305.5,346.8,289,331.9,278.1z"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n',y='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#B3A4CD;}\n\t.st1{fill:#9575CD;}\n\t.st2{fill:#C0B9CD;}\n\t.st3{fill:#A690CD;}\n\t.st4{fill:#FFFFFF;}\n</style>\n<g>\n\t<g>\n\t\t<rect x="0" y="-0.3" class="st0" width="480" height="480"/>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st0" points="240,239.7 480,479.7 0,479.7 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st1" points="240,240.7 0,-0.3 480,-0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st2" points="240,240.3 0,480.3 0,0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st3" points="240,240.3 480,0.3 480,480.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n\t<g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<circle class="st3" cx="240.2" cy="181.9" r="54.8"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M179.5,317.7h-31V135.8c0-8.3,6.8-15.1,15.1-15.1h0.8c8.3,0,15.1,6.8,15.1,15.1V317.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<rect x="232" y="192.2" transform="matrix(8.003535e-11 1 -1 8.003535e-11 540.6906 58.6905)" class="st4" width="18" height="215"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M84.5,360.7L84.5,360.7c0-28.8,23.2-52,51.9-52h207.2c28.7,0,51.9,23.2,51.9,51.9v0.1H84.5z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M330.5,317.7h-31V135.8c0-8.3,6.8-15.1,15.1-15.1h0.8c8.3,0,15.1,6.8,15.1,15.1V317.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M330.5,209.7L330.5,209.7v-49l0,0c8.3,0,15,6.7,15,15v19C345.5,203,338.8,209.7,330.5,209.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<rect x="300.7" y="263" transform="matrix(0.7071 0.7071 -0.7071 0.7071 293.1492 -133.81)" class="st4" width="14.7" height="47.9"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<rect x="164.9" y="263" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -152.4428 205.8853)" class="st4" width="14.7" height="47.9"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M151.5,209.7L151.5,209.7c-8.3,0-15-6.7-15-15v-19c0-8.3,6.7-15,15-15h0V209.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M240.2,121.4c-33.4,0-60.5,27.1-60.5,60.5s27.1,60.5,60.5,60.5s60.5-27.1,60.5-60.5\n\t\t\t\t\t\t\tS273.6,121.4,240.2,121.4z M240.2,229.4c-26.2,0-47.5-21.3-47.5-47.5s21.3-47.5,47.5-47.5s47.5,21.3,47.5,47.5\n\t\t\t\t\t\t\tS266.4,229.4,240.2,229.4z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<circle class="st4" cx="240.2" cy="181.9" r="33.3"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n',M={name:"ChatOption",components:{Avatar:c.A,CommonChatAvatar:f,BadgeWithNumber:m.A},props:{source:{type:Object,default:()=>({})}},inject:["$emit"],created(){this.isP2PChat&&this.source.getParticipantList().then((e=>{let t=(0,_.A)(!0);for(const s of e.keys())s!==(0,_.A)(!0)&&(t=s);(0,x.A)(t,this.chatNameSource)}))},computed:{isP2PChat(){return this.source.isP2PChat()},isCommonChat(){return(0,w.A)(this.source)},unreadMessagesNumber(){return n.A.allChats[this.source.getChatId()]?.unreadMessagesIds.length},companion(){return{name:this.source.getChatTitle(),avatar:""}},lastMessage(){return n.A.allChats[this.source.getChatId()]?.lastMessageText},terminalAvatar(){return{sip:v,h323:y,mailto:'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#B3A4CD;}\n\t.st1{fill:#9575CD;}\n\t.st2{fill:#C0B9CD;}\n\t.st3{fill:#A690CD;}\n\t.st4{fill:#FFFFFF;}\n</style>\n<g>\n\t<g>\n\t\t<rect x="0" y="-0.3" class="st0" width="480" height="480"/>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st0" points="240,239.7 480,479.7 0,479.7 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st1" points="240,240.7 0,-0.3 480,-0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st2" points="240,240.3 0,480.3 0,0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st3" points="240,240.3 480,0.3 480,480.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n\t<g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path class="st4" d="M339.3,225.1c0,11.7-1.8,22.4-5.5,32.2c-3.7,9.7-8.9,17.3-15.6,22.7c-6.7,5.4-14.4,8.1-23.2,8.1\n\t\t\t\t\t\t\tc-6.5,0-12.1-1.7-16.8-5.2c-4.8-3.4-8-8.1-9.6-14.2h-1.5c-4,6.6-9,11.4-14.9,14.6c-5.9,3.2-12.5,4.8-19.9,4.8\n\t\t\t\t\t\t\tc-13.4,0-23.9-4.3-31.5-12.9c-7.7-8.6-11.5-20.2-11.5-34.9c0-16.9,5.1-30.6,15.2-41.1c10.2-10.5,23.8-15.8,40.9-15.8\n\t\t\t\t\t\t\tc6.2,0,13.1,0.6,20.7,1.7c7.6,1.1,14.3,2.6,20.2,4.6l-2.4,57.2v3c-0.3,13.1,4,19.7,12.5,19.7c6.5,0,11.6-4.2,15.4-12.5\n\t\t\t\t\t\t\tc3.8-8.4,5.7-19,5.7-32c0-14-2.9-26.3-8.6-36.9c-5.7-10.6-13.9-18.8-24.5-24.5c-10.6-5.7-22.7-8.6-36.4-8.6\n\t\t\t\t\t\t\tc-17.5,0-32.6,3.6-45.6,10.8c-12.9,7.2-22.8,17.5-29.6,30.9c-6.8,13.4-10.2,29-10.2,46.7c0,23.8,6.4,42,19.1,54.8\n\t\t\t\t\t\t\tc12.7,12.8,30.9,19.2,54.7,19.2c18.1,0,37-3.7,57.4-11.1v20.2c-17.9,7-36.6,10.6-56.9,10.6c-30.3,0-54-8.2-70.9-24.5\n\t\t\t\t\t\t\tc-17-16.4-25.5-39.2-25.5-68.4c0-21.4,4.6-40.4,13.8-57.1c9.2-16.7,21.9-29.4,38.2-38.3s34.7-13.3,55.3-13.3\n\t\t\t\t\t\t\tc17.8,0,33.6,3.7,47.5,11.1c13.9,7.4,24.7,17.9,32.3,31.5C335.4,191.5,339.3,207.3,339.3,225.1z M212.9,240.7\n\t\t\t\t\t\t\tc0,19.1,7.5,28.6,22.5,28.6c15.8,0,24.5-12,25.9-36l1.5-29.4c-5.2-1.4-10.7-2.1-16.6-2.1c-10.5,0-18.7,3.5-24.5,10.5\n\t\t\t\t\t\t\tC215.8,219.3,212.9,228.8,212.9,240.7z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n',guest:'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#B3A4CD;}\n\t.st1{fill:#9575CD;}\n\t.st2{fill:#C0B9CD;}\n\t.st3{fill:#A690CD;}\n\t.st4{fill:#FFFFFF;}\n</style>\n<g>\n\t<g>\n\t\t<rect x="0" y="-0.3" class="st0" width="480" height="480"/>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st0" points="240,239.7 480,479.7 0,479.7 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st1" points="240,239.7 0,-0.3 480,-0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st2" points="240,240.3 0,480.3 0,0.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<polygon class="st3" points="240,240.3 480,0.3 480,480.3 \t\t\t\t\t\t"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n\t<g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<circle class="st4" cx="240" cy="202.8" r="76.3"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<path class="st4" d="M315.1,270.5C296.6,291,269.8,304,240,304c-29.8,0-56.6-13-75.1-33.6c-26.9,19.6-46.5,49.5-53.8,84.2\n\t\t\t\t\t\t\t\th257.8C361.6,320,342,290.1,315.1,270.5z"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<path class="st3" d="M231,218.7v-3.5c0-4,0.7-7.4,2.2-10c1.5-2.7,4.1-5.4,7.9-8.3c4.5-3.4,7.3-6.1,8.6-8\n\t\t\t\t\t\t\t\tc1.3-1.9,1.9-4.2,1.9-6.8c0-3.1-1-5.4-3.1-7.1c-2.1-1.6-5.1-2.5-9-2.5c-3.6,0-6.8,0.5-9.9,1.5c-3,1-6,2.2-8.9,3.6l-4.7-9.7\n\t\t\t\t\t\t\t\tc7.6-4.1,15.7-6.2,24.4-6.2c7.3,0,13.2,1.8,17.5,5.3c4.3,3.5,6.5,8.4,6.5,14.6c0,2.7-0.4,5.2-1.2,7.3\n\t\t\t\t\t\t\t\tc-0.8,2.1-2.1,4.2-3.7,6.1c-1.7,1.9-4.5,4.5-8.6,7.6c-3.5,2.7-5.8,4.9-7,6.6c-1.2,1.8-1.8,4.1-1.8,7.1v2.5H231z M228.8,235.8\n\t\t\t\t\t\t\t\tc0-5.5,2.7-8.3,8.1-8.3c2.6,0,4.6,0.7,6,2.2c1.4,1.4,2.1,3.5,2.1,6.1c0,2.6-0.7,4.7-2.1,6.2c-1.4,1.5-3.4,2.3-6,2.3\n\t\t\t\t\t\t\t\tc-2.6,0-4.6-0.7-6-2.2C229.5,240.6,228.8,238.5,228.8,235.8z"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n'}[/^(?:#(.+?):)?(?:\\(.+?)\\)?(.+?)??(?:@(.+?)(?:\/(.+?))?(?:#(.+?))?)?$/.exec(this.companion.name)[1]]||null},lastMessageTime(){return this.lastMessage&&b.Ay.call(this,this.lastMessage.createTime)},sanitizedLastMessageText(){return this.lastMessage.isFile?"":(0,h.A)((0,d.A)(this.lastMessage.text))},authorName(){return this.lastMessage.isMe?this.pgettext("A text hint displayed in the list of chat participants. It is needed to identify (single out) a user among other chat participants. Please note that this string is used with a colon because it will be followed by the message the user sent to the chat.","You:"):this.isP2PChat?"":`${this.lastMessage.authorName}:`}},data(){return{chatNameSource:{displayName:(0,r.A)(this.source)},finalText:h.A,sipAvatar:v,h323Avatar:y}}},S=(s(63902),(0,p.A)(M,l,[],!1,null,null,null).exports),C=s(95353),k=s(63824),A=s(41477),I=s(92683),T=async e=>{const t=e.getChatId(),s=e.getLastMessage();if(s)return await(0,A.A)(s),void(0,I.A)(s,t);(0,I.A)(void 0,t)},L=s(15948),F=s(99761),D={name:"ChatSelect",components:{Search:i.A},async mounted(){const{chatId:e}=this.webrtcState.callState.conference.getParams();this.commonChat=await this.chatManager.getChatById(e).catch((e=>(console.warn("chat-select.vue getChatById Error",e),null))),this.webrtcState.chatsListInit||(this.setAllChats(await this.chatManager.getChatList()),n.A.chatsListInit=!0),await Promise.all(this.filteredSortedChats.map((e=>{(0,k.A)(e);const t=this.lastMessageByChat(e);if(!t||!this.webrtcState.chatState.showAllSystemMessages&&t.externalSystemMessage)return T(e)}))),this.isLoading=!1},methods:{isCommonChat:w.A,getChatNameByChat:r.A,handleChatSelect(e){this.selectChat(e.getChatId());const{params:t,query:s}=this.$route,a=F.clone(s);a.chat=!0,a.chatSelect=!1,this.$router.replace({name:"conference",params:t,query:F.pickBy(a,o.A)})},...(0,C.PY)("chatManager",["selectChat","setAllChats"])},computed:{filteredSortedChats(){const e=this.searchQuery.toLowerCase(),t=this.allChats.filter((t=>{const s=(0,r.A)(t).toLowerCase();return(!this.waitingRoomState.meInWaitingRoom||!(0,w.A)(t))&&s.includes(e)}));return F.sortBy(t,(e=>{e.key=e.getChatId();const t=this.lastMessageByChat(e);return this.isCommonChat(e)?-1/0:t?-1*t.createTime:0}))},lastMessageByChat(){return e=>this.webrtcState.allChats[e.getChatId()]?.lastMessageText},...(0,C.aH)("chatManager",["allChats","chatManager","selectedChat","supportedMessageTypes"])},data:()=>({searchQuery:"",webrtcState:n.A,commonChat:null,isLoading:!0,waitingRoomState:L.A,ChatOption:S}),watch:{"webrtcState.allChats":{handler(e){for(const[t,{lastMessageText:s}]of Object.entries(e))if(null===s){const e=this.allChats.find((e=>e.getChatId()===t));if(!e)throw new Error("Can't find chat in which message was removed");T(e)}},deep:!0}}},N=(s(27875),(0,p.A)(D,a,[],!1,null,null,null).exports)},35872:function(e,t,s){"use strict";s.d(t,{A:function(){return et}});var a=function(){var e=this,t=e._self._c;return t("section",{ref:"chatSection",staticClass:"chat"},[t("messages-list",{ref:"messages",attrs:{chatDisplayName:e.displayName,initScrollOffset:e.initScrollOffset,messages:e.messages},on:{scroll:e.onScroll,"load-next-messages":function(t){return e.loadNextMessagesSafe(t)},"reset-chat":e.resetChat}}),e._v(" "),e.showInteraction?t("message-modifier",{attrs:{mode:e.interactionType}}):e._e(),e._v(" "),t("div",{staticClass:"chat-message-form-container"},[null===e.chatMeta.sendMessagesAccess?t("TcPreloader",{staticClass:"chat-message-form-container__preloader",attrs:{type:"fountain"}}):e.chatMeta.sendMessagesAccess?t("chat-message-form",{ref:"messageForm",staticClass:"chat-message-form-container__form",attrs:{disabled:e.chatIsDisabled,disabledSendFile:!e.canSendFile},on:{"send-message":e.sendMessage}}):t("div",{staticClass:"chat-message-form-container__stub"},[e._v("\n      "+e._s(e.pgettext("Notification that the user is not allowed to write to this chat","You cannot leave messages in this chat"))+"\n    ")])],1),e._v(" "),e.DEVELOPMENT?t("div",{ref:"messagesDebugCount",style:{position:"fixed",right:"5px",bottom:"5px",color:"limegreen",zIndex:1e3}}):e._e(),e._v(" "),e.DEVELOPMENT?t("div",{ref:"messagesMinimap",staticClass:"messages-minimap"},[t("div",{staticClass:"loaded"}),e._v(" "),t("div",{staticClass:"unloaded"})]):e._e(),e._v(" "),e.showChatAreaDropOverlay?t("FileDropOverlay",{on:{hide:function(t){e.showChatAreaDropOverlay=!1}}}):e._e()],1)};a._withStripped=!0;var n=s(56342),i=s(50429),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"messages-list",on:{mouseover:()=>{e.floatingDateLabelIsShown&&e.keepShowFloatingDateLabel()}}},[null===e.messages?t("TcPreloader",{attrs:{type:"cube"}}):e.isListEmpty?t("p",{staticClass:"placeholder messages-list-placeholder"},[e._v("\n    "+e._s(e.gettext("No messages"))+"\n  ")]):t("div",{staticClass:"messages-list_messages"},[t("TcList",{ref:"messagesList",attrs:{dataComponent:e.ChatMessage,headerClass:"",dataSources:e.messagesWithBottomLoader,extraProps:{isGroupChat:e.isGroupChat}},on:{resized:e.listItemResize,click:e.authorClick,dblclick:e.messageReply,scroll:e.handleListScroll,"root-click":e.messageClick,"reply-click":e.highlightMessage,contextmenu:e.authorClick,"context-menu-message":e.messageContextMenu}},[e.isReachedTop?e._e():t("ChatMessageLoading",{ref:"chatMessageLoader",attrs:{slot:"header",showLoader:e.isNextMessagesLoading},slot:"header"})],1),e._v(" "),t("MountedEmitter",{on:{mounted:e.bindListListeners}})],1),e._v(" "),e.showScrollDownButton?t("transition",{attrs:{name:"scroll-button-transition",appear:""}},[t("TcButton",{staticClass:"messages-list-go-bottom-button",attrs:{type:"outlined",badge:e.unreadMessagesCount,badgeMax:99,icon:"expand_more"},on:{click:function(t){return e.handleClickScrollBottomButton()}}})],1):e._e(),e._v(" "),t("section",{staticClass:"date-label-wrapper date-label-wrapper--floating",class:{"date-label-wrapper--floating-appeared":e.floatingDateLabelIsShown&&e.currentChatMeta.dateLabel}},[t("span",{staticClass:"date-label"},[e._v("\n      "+e._s(e.currentChatMeta.dateLabel)+"\n    ")])]),e._v(" "),e.webrtcState.chatState.deleteModalOpen?t("DeleteConfirmation",{attrs:{chatDisplayName:e.chatDisplayName}}):e._e(),e._v(" "),e.webrtcState.chatState.viewedPicture?t("PictureViewer",{attrs:{pictureObject:e.webrtcState.chatState.viewedPicture},on:{close:function(t){e.webrtcState.chatState.viewedPicture=null}}}):e._e(),e._v(" "),e.contextMenuState.isOpen?t("div",{staticClass:"disable-layer"}):e._e()],1)};o._withStripped=!0;var r=function(){return(0,this._self._c)("div",{attrs:{hidden:""}})};r._withStripped=!0;var l={mounted(){this.$emit("mounted")}},c=s(14486),d=(0,c.A)(l,r,[],!1,null,null,null).exports,h=function(){var e=this,t=e._self._c;return e.message.isTimeLabel?t("section",{staticClass:"date-label-wrapper",attrs:{"data-id":e.message.key.toLowerCase()}},[t("span",{staticClass:"date-label"},[e._v("\n    "+e._s(e.message.key)+"\n  ")])]):e.message.empty?t("ChatMessageLoading",{attrs:{"data-id":e.message.getId(),showLoader:e.message.infiniteScroll||e.message.index%4==0,expectedHeight:e.message.height}}):e.message.renderMessage?t("section",{staticClass:"chat-message",class:{"chat-message-text-and-time--selected":e.messageIsHighlighted,"chat-message-text-and-time--context-menu-selected":e.messageIsUnderContextMenu,"chat-message-text-and-time--highlight-animation":e.enableAnimation},attrs:{"data-id":e.message.getId(),"data-date-label":e.messageTimeLabel},on:{dblclick:e.messageDblClickHandler,click:e.messageClickHandler,contextmenu:function(t){t.preventDefault(),e.touchSupported?e.startMultiselect():e.emitContextmenu(t)},animationend:function(t){e.enableAnimation=!1}}},[t("section",{staticClass:"chat-message-text-and-time",class:{"chat-message-text-and-time--not-my":!e.messageIsMy}},[e.authorLabelIsShown?t("avatar",{staticClass:"chat-message-author-avatar",attrs:{name:e.authorName,src:e.authorAvatar,alt:"avatar"},on:{click:function(t){return t.stopPropagation(),e.clickHandler(t)},contextmenu:function(t){return t.preventDefault(),e.contextmenuHandler(t)}}}):e._e(),e._v(" "),t("div",{staticClass:"chat-message-cloud chat-message-cloud--text",class:{"chat-message-cloud--me":e.messageIsMy,"chat-message-cloud--them":!e.messageIsMy,"chat-message-cloud--no-tail":e.sameAuthor,"chat-message-cloud--padded":e.messagePadded,"chat-message-cloud--grow":e.messageWithPreview}},[e.authorLabelIsShown?t("span",{staticClass:"chat-message-cloud--author one-line chat-message-author-name",class:{"chat-message-author-name--right":e.messageIsMy}},[t("span",{staticClass:"author-clickable",on:{click:function(t){return t.stopPropagation(),e.authorNameClick()},contextmenu:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(e._s(e.authorName))])]):e._e(),e._v(" "),void 0!==e.replyingMessage?t("span",{staticClass:"reply-message",class:[null===e.replyingMessage&&"reply-message-removed"],on:{click:function(t){return t.stopPropagation(),e.openRepliedMessage.apply(null,arguments)}}},[null===e.replyingMessage?t("span",{staticClass:"reply-message-content one-line"},[e._v(e._s(e.pgettext("The heading for a message in the chat history","Deleted message")))]):[e.replyingMessage.picture?t("div",{staticClass:"reply-message-picture-container"},[t("img",{staticClass:"reply-message-picture-container__picture",attrs:{src:e.replyingMessage.picture}}),e._v(" "),t("div",{staticClass:"reply-message-picture-container__content"},[t("span",{staticClass:"chat-message-author-name reply-message-author one-line"},[e._v(e._s(e.replyingMessage.authorDisplayName))]),e._v(" "),t("span",{staticClass:"reply-message-content one-line"},[e._v(e._s(e.pgettext("A text hint when reply to messages with a imagein the chat.","Image")))])])]):[t("span",{staticClass:"chat-message-author-name reply-message-author one-line"},[e._v(e._s(e.replyingMessage.authorDisplayName))]),e._v(" "),t("span",{staticClass:"reply-message-content one-line",domProps:{innerHTML:e._s(e.replyingMessage.content)}})]]],2):e._e(),e._v(" "),e.forwardedMessageAuthor?t("span",[t("VueTranslation",{staticClass:"forward-message",attrs:{t:e.pgettext("A text hint indicating who forwarded a chat message","Forwarded from %displayname:")}},[t("span",{staticClass:"forward-message-author-clickable",attrs:{slot:"displayname"},on:{click:function(t){return t.stopPropagation(),e.authorNameClick(e.forwardedMessageAuthor.id)}},slot:"displayname"},[e._v(e._s(e.forwardedMessageAuthor.displayName))])]),e._v(" "),"attachment"===e.checkMessageType(e.message.renderMessage)?t("FileMessage",{attrs:{message:e.message.renderMessage}}):e._e()],1):e._e(),e._v(" "),void 0!==e.sanitizedText?t("span",{domProps:{innerHTML:e._s(e.sanitizedText)},on:{click:e.handleMessageLinkClick}}):e.isFileMessage?t("FileMessage",{attrs:{message:e.message}}):e._e(),e._v(" "),t("p",{staticClass:"chat-message-text-and-time__time"},[e.source.isEdited()?t("span",[e._v(e._s(e.pgettext("A text hint indicating that the message has been edited","edited")))]):e._e(),e._v(" "+e._s(e.prettifyTime)+"\n      ")])],1)],1)]):t("SystemMessage",{attrs:{message:e.message}})};h._withStripped=!0;var m=s(89614),g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chat-message-empty-loading",style:{height:`${e.expectedHeight}px`}},[e.showLoader?t("TcPreloader",{staticClass:"chat-message-empty-preloader",attrs:{type:"fountain"}}):e._e()],1)};g._withStripped=!0;var u={props:{showLoader:{type:Boolean,default:()=>!0},expectedHeight:{type:Number,default:50}}},p=(s(58928),(0,c.A)(u,g,[],!1,null,null,null).exports),f=s(25993),b=s(52144),x=function(){var e=this,t=e._self._c;return t("div",e._l(e.parts,(function([s,a]){return t("span",{key:a},[e._v(e._s(s)),a?e._t(a):e._e()],2)})),0)};x._withStripped=!0;var _={name:"VueTranslation",props:{t:{type:String,required:!0}},computed:{parts(){const e=this.t,t=[],s=/(.+?)%([\w\d]+)/g;let a,n;for(;n=s.exec(e);)a=s.lastIndex,t.push([n[1],n[2]]);return t.push([e.slice(a)]),t}}},w=(0,c.A)(_,x,[],!1,null,null,null).exports,v=s(94214),y=s(87624),M=s(19364),S=s(47053),C=s(26876),k=function(){var e=this,t=e._self._c;return e.showMessage?t("section",{staticClass:"system-message-text",attrs:{"data-id":e.message.getId()}},[t("span",{staticClass:"one-line"},[e._v(e._s(e.text))])]):e._e()};k._withStripped=!0;var A=s(30227),I=s(18961),T={props:{message:{type:Object,required:!0}},created(){this.systemMessageMeta.dnResolver.then((e=>{e&&(this.systemMessageMeta.authorName=e)})),"group"===this.systemMessageMeta.chatType&&this.systemMessageMeta.dnUserResolver?.then((e=>{e&&(this.systemMessageMeta.userName=e)}))},computed:{text(){return(0,A.o)(this.systemMessageMeta)},showMessage(){return i.A.chatState.showAllSystemMessages}},data(){return{systemMessageMeta:(0,I.A)(this.message)}}},L=(s(47190),(0,c.A)(T,k,[],!1,null,null,null).exports),F=function(){var e=this;return(0,e._self._c)(e.currentComponent.name,e._g(e._b({tag:"component"},"component",e.currentComponent.props,!1),e.currentComponent.actions))};F._withStripped=!0;var D=function(){var e=this,t=e._self._c;return t("a",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"chat-message-file reset-link",attrs:{target:"_blank",rel:"noopener",href:e.message.getFileUrl()},on:{mouseover:function(t){return e.$emit("mouseover",t)},mouseout:function(t){return e.$emit("mouseout",t)},click:function(t){return e.messageClickHandler(t)}}},[t("FileDisplay",{attrs:{fileIcon:e.fileIcon,fileProgress:e.fileProgress,fileName:e.message.getFileName(),fileSize:e.message.getFileSize()}})],1)};D._withStripped=!0;var N=function(){var e=this,t=e._self._c;return t("div",{class:{"chat-message-file":!e.errorType,"chat-message-file chat-message-file--disabled ":e.errorType}},[t("div",{staticClass:"chat-message-file-circle",attrs:{id:e.areaId}},[e.filePreview?t("img",{staticClass:"chat-message-file-preview",attrs:{src:e.filePreview}}):t("Icon",{staticClass:"file-icon",attrs:{name:e.fileIcon,fontFamily:"Material Icons"}}),e._v(" "),null!==e.fileProgress?t("div",{staticClass:"file-loader"},[t("CircleProgressBar",{attrs:{radius:e.defaultProgressCircleConfig.radius,progress:e.fileProgress,centerCoordinate:e.defaultProgressCircleConfig.centerCoordinate}})],1):e._e()],1),e._v(" "),t("div",{staticClass:"chat-message-file-info"},[t("span",{ref:"file-name-element",staticClass:"file-name",attrs:{title:e.fileName}},[e._v(e._s(e.formattedFileName))]),e._v(" "),e.errorType?t("span",{staticClass:"file-size"},[e._v(" "+e._s(e.errorText[e.errorType]))]):t("span",{staticClass:"file-size"},[e._v(e._s(e.readableFileSize))])])])};N._withStripped=!0;var P=s(76508),$=function(){var e=this,t=e._self._c;return t("svg",{attrs:{width:"100%",height:"100%"}},[t("circle",{attrs:{cx:e.centerCoordinate,cy:e.centerCoordinate,fill:"transparent",transform:`rotate(270, ${e.centerCoordinate}, ${e.centerCoordinate})`,"stroke-width":"2px",r:e.radius,"stroke-dashoffset":e.adjustProgress,stroke:e.progressCircleColor,"stroke-dasharray":e.circleLength}})])};$._withStripped=!0;var Z={name:"CircleProgressBar",props:{radius:{type:Number,required:!0},centerCoordinate:{type:Number,default:18},progressCircleColor:{type:String,default:"white"},progress:{type:Number,default:0}},computed:{adjustProgress(){return this.progress?Math.floor((100-this.progress)*(this.circleLength/100)):this.circleLength},circleLength(){return 2*this.radius*Math.PI}}},z=(0,c.A)(Z,$,[],!1,null,null,null).exports,B=({width:e,height:t})=>({mounted(){const s=document.querySelector(`#${this.areaId}`);new ResizeObserver((s=>{const{clientHeight:a,clientWidth:n}=s[0].target,i=Math.round((a-t)/2),o=Math.round((n-e)/2);this.stylesForDownloadButton.top=`${1===Math.sign(i)?i:0}px`,this.stylesForDownloadButton.left=`${1===Math.sign(o)?o:0}px`,this.stylesForDownloadButton.display="flex"})).observe(s)},data:()=>({stylesForDownloadButton:{top:0,left:0,display:"none"},areaId:`area-${Math.trunc(Math.random()*10**6)}`})});const E={width:36,height:36,radius:16,centerCoordinate:18},O={width:38,height:38,radius:22,centerCoordinate:24};var R={FILE_NAME_ELEMENT_MAX_WIDTH:155,components:{Icon:P.A,CircleProgressBar:z},mixins:[B(O)],props:{fileIcon:{type:String,default:"insert_drive_file"},fileName:{type:String,required:!0},fileSize:{type:Number,required:!0},fileProgress:{type:[Number,null],default:null},filePreview:{type:String,default:null},errorType:{type:String,default:""}},mounted(){this.rewriteFormattedName()},methods:{rewriteFormattedName(){this.formattedFileName=this.fileName,this.$nextTick((()=>{if(this._isDestroyed)return;const e=this.$refs["file-name-element"].offsetWidth;if(e<=this.$options.FILE_NAME_ELEMENT_MAX_WIDTH)return;const t=this.fileName.length,s=e/t,a=(t-this.$options.FILE_NAME_ELEMENT_MAX_WIDTH/s+3)/2,n=Math.floor(t/2-a),i=Math.ceil(t/2+a);this.formattedFileName=`${this.fileName.substr(0,n)}...${this.fileName.substr(i)}`}))}},computed:{readableFileSize(){return function(e,t=1){const s=1024;if(Math.abs(e)<s)return`${e} B`;const a=["kB","MB","GB"];let n=-1;const i=10**t;do{e/=s,++n}while(Math.round(Math.abs(e)*i)/i>=s&&n<a.length-1);return`${e.toFixed(t)} ${a[n]}`}(this.fileSize)},errorText(){return{oversize:this.pgettext("The caption for the file that exceeds the maximum size","Max. file size is 1 GB")}}},data(){return{formattedFileName:this.fileName,defaultProgressCircleConfig:O}},watch:{fileName(){this.rewriteFormattedName()}}},H=(s(28117),(0,c.A)(R,N,[],!1,null,null,null).exports),j={components:{FileDisplay:H},props:{message:{type:Object,required:!0},fileIcon:{type:String,default:"insert_drive_file"},progress:{type:[Object,null],default:null}},methods:{messageClickHandler(e){"multiselect"!==this.webrtcState.chatState.interactionType?this.$emit("click",e):e.preventDefault()}},computed:{fileProgress(){return this.progress?Math.floor(this.progress.currentLength/(this.progress.totalLength/100)):null}},data:()=>({webrtcState:i.A})},U=(s(71231),(0,c.A)(j,D,[],!1,null,null,null).exports),V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chat-message-file chat-message-file-preview",attrs:{id:e.areaId},on:{click:function(t){return e.$emit("click")}}},[t("img",{staticClass:"chat-message-file-preview__img",class:{"chat-message-file-preview__img--blured":!e.safeLoadedImage.source},attrs:{src:e.imageSrc}}),e._v(" "),e.safeLoadedImage.source?e._e():t("div",{staticClass:"chat-message-file-circle",style:e.stylesForDownloadButton,on:{click:function(t){return t.stopPropagation(),e.$emit("click-action-icon")}}},[t("Icon",{staticClass:"file-icon",attrs:{name:e.fileIcon,fontFamily:e.customIcon?null:"Material Icons"}}),e._v(" "),t("div",{staticClass:"chat-message-file-preview__progress"},[t("CircleProgressBar",{attrs:{radius:e.previewProgressCircleConfig.radius,progress:e.progress}})],1)],1)])};V._withStripped=!0;var G={name:"DisplayPreview",components:{Icon:P.A,CircleProgressBar:z},mixins:[B(E)],props:{message:{type:Object,required:!0},fileIcon:{type:String,default:"file_download"},customIcon:{type:Boolean,default:!1},loadedImage:{type:Object,default:null}},computed:{safeLoadedImage(){return this.loadedImage||{}},imageSrc(){return this.safeLoadedImage.source||this.message.getPreviewUrl()},progress(){return Math.floor(this.safeLoadedImage.receivedLength/(this.safeLoadedImage.contentLength/100))}},data:()=>({previewProgressCircleConfig:E})},q=(s(84600),(0,c.A)(G,V,[],!1,null,null,null).exports),W=s(80033),Y=s(25750),K={name:"FileDisplay",components:{DisplayDefault:U,DisplayPreview:q},props:{displayMode:{type:String,default:null},message:{type:Object,required:!0}},created(){this.isMessageForUploadFile&&this.message.getUploader().addEventListener("uploadingStateChange",(({detail:e})=>{this.uploadingState={...this.uploadingState,...e}}))},methods:{abortUploading(){this.message.getUploader().isUploading()&&this.message.getUploader().abort()},clickHandlerForDisplayDefault(e){this.isMessageForUploadFile&&(e.preventDefault(),this.abortUploading())},clickHandlerForDisplayPreview(){this.isMessageForUploadFile?this.abortUploading():this.downloadOrUploadState?.downloading?this.loadedImage[this.message.id].controller.abort():(0,Y.t)(this.message)}},computed:{currentComponent(){return{default:{name:"DisplayDefault",props:{message:this.message,fileIcon:this.downloadOrUploadState?"close":this.isMessageForUploadFile||this.hovered?"file_download":"insert_drive_file",progress:this.downloadOrUploadState},actions:{mouseover:()=>{this.hovered=!0},mouseout:()=>{this.hovered=!1},click:this.clickHandlerForDisplayDefault}},preview:{name:"DisplayPreview",props:{message:this.message,fileIcon:this.loadError?"scan_delete":this.downloadOrUploadState?"cancel":"file_download",customIcon:this.loadError,loadedImage:this.downloadOrUploadState},actions:{click:()=>{"preview"===this.currentDisplayMode&&this.loadedImage&&(i.A.chatState.viewedPicture={sourceMessage:this.message,picture:this.loadedImage[this.message.id]})},"click-action-icon":this.clickHandlerForDisplayPreview}}}[this.currentDisplayMode]},currentDisplayMode(){return this.displayMode??this.message.getPreviewUrl()?"preview":"default"},loadedImage(){return i.A.chatState.loadedFiles.find((e=>e[this.message.id]))},downloadOrUploadState(){if("preview"===this.currentDisplayMode){if(this.isMessageForUploadFile){const{totalBytes:e,completedBytes:t}=this.uploadingState;return{downloading:this.message.getUploader().isUploading(),source:null,contentLength:e,receivedLength:t}}return this.loadedImage?.[this.message.id]}if(this.isMessageForUploadFile){const{totalBytes:e,completedBytes:t}=this.uploadingState;return t?{totalLength:e,currentLength:t}:null}return null},loadError(){const e=this.loadedImage?.[this.message.id]?.error;return e&&e instanceof Error&&"error"===e.message},isMessageForUploadFile(){return this.message instanceof W.A}},data:()=>({hovered:!1,uploadingState:{totalBytes:0,completedBytes:0}})},J=(s(66011),(0,c.A)(K,F,[],!1,null,null,null).exports),X=s(20527),Q=s(81516);const{ForwardMessage:ee,ReplyMessage:te,AttachmentMessage:se}=C.ChatCore.Messages;var ae={name:"ChatMessage",components:{Avatar:v.A,ChatMessageLoading:p,VueTranslation:w,SystemMessage:L,FileMessage:J},props:{source:{type:Object,required:!0},isGroupChat:{type:Boolean,required:!0}},beforeUpdate(){!this.message.empty&&this.message.isRemoved()&&(this.message.empty=!0),!this.message.empty&&this.message instanceof te&&this.message.normalizedReplyMessage?.isRemoved()&&(this.message.normalizedReplyMessage=null)},methods:{checkMessageType(e){return e instanceof se?"attachment":e instanceof te?"reply":e instanceof ee?"forward":null},messageDblClickHandler(){this.timerCheckDoubleClick&&(clearTimeout(this.timerCheckDoubleClick),this.timerCheckDoubleClick=null),"multiselect"!==this.interactionType&&this.$emit("dblclick",this.source.getId())},messageClickHandler(e){this.timerCheckDoubleClick||(this.timerCheckDoubleClick=setTimeout((()=>{this.timerCheckDoubleClick=null,this.touchSupported&&"multiselect"!==this.interactionType?this.emitContextmenu(e):this.$emit("root-click",this.source.getId(),e)}),100))},clickHandler(e){this.$emit("click",this.message.getAuthor(),e)},contextmenuHandler(e){this.$emit("contextmenu",this.message.getAuthor(),e)},async authorNameClick(e=this.message.getAuthor().getId()){let t=e;this.message instanceof ee&&(t=this.message.getForwardMessageAuthor().getId()),-1===(0,n.II)().indexOf(t)&&(this.webrtcState.chatState.interactionType&&(0,Q.A)(),i.A.chatState.newMessageText="",m.A.openChatByTrueconfId(t))},openRepliedMessage(){null!==this.message.normalizedReplyMessage&&this.$emit("reply-click",this.message.normalizedReplyMessage.getId())},emitContextmenu(e){this.$emit("context-menu-message",this.source.getAuthor(),this.source.getId(),e)},startMultiselect(){"multiselect"===i.A.chatState.interactionType||i.A.chatState.forwardingMessages||(i.A.chatState.selectedMessages=[this.source.getId()],i.A.chatState.interactionType="multiselect")},handleMessageLinkClick:S.A},inject:["$emit"],computed:{touchSupported(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},message(){return this.source},renderMessage(){return this.message.renderMessage},messageTimeLabel(){return M.Xr.call(this,this.message.getCreateTime())},messageIsMy(){return this.message.getAuthor().getId()===(0,n.II)(!0)},interactionType(){return this.webrtcState.chatState.interactionType},messageIsInSelectedMessages(){return this.webrtcState.chatState.selectedMessages.includes(this.message.getId())},messageIsHighlighted(){return this.messageIsInSelectedMessages&&["multiselect","edit"].includes(this.interactionType)&&!this.webrtcState.chatState.forwardingMessages},messageIsUnderContextMenu(){return this.webrtcState.chatState.contextMenuMessageId===this.message.getId()},authorName(){return this.message.getAuthor().displayName},authorAvatar(){return null},prettifyTime(){return(0,M.N6)(this.message.getCreateTime())},authorLabelIsShown(){return this.isGroupChat&&this.authorName&&!this.sameAuthor&&!this.messageIsMy},messagePadded(){return this.isGroupChat&&this.authorName&&this.sameAuthor&&!this.messageIsMy},messageWithPreview(){return this.isFileMessage&&this.message.getPreviewUrl()},sameAuthor(){return this.message.sameAuthor},sanitizedText(){const e=this.renderMessage.getText?.();return e&&(0,y.A)(e)},isFileMessage(){return(0,X.A)(this.message)},replyingMessage(){const e=this.message.normalizedReplyMessage;return e?{picture:e?.getPreviewUrl?.(),content:(0,f.A)((0,b.A)(e)),authorDisplayName:e.getAuthor().displayName}:e},forwardedMessageAuthor(){return this.message instanceof ee?{id:this.renderMessage.getAuthor().getId(),displayName:this.renderMessage.getAuthor().displayName}:null},highlightMessageId(){return this.webrtcState.chatState.highlightMessageId}},data:()=>({webrtcState:i.A,timerCheckDoubleClick:null,enableAnimation:!1,imageWasLoaded:!1}),watch:{highlightMessageId:{handler(e){this.message.empty||e===this.message.getId()&&(this.enableAnimation=!1,this.enableAnimation=!0,setTimeout((()=>{this.webrtcState.chatState.highlightMessageId=null}),2e3))},deep:!0,immediate:!0},messageIsHighlighted(e){e&&this.enableAnimation&&(this.enableAnimation=!1)}}},ne=(s(60566),(0,c.A)(ae,h,[],!1,null,null,null).exports),ie=function(){var e=this,t=e._self._c;return t("TcModal",{staticClass:"delete-confirmation-modal",attrs:{headerText:e.defaultText.header},on:{close:e.discard}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("p",{staticClass:"delete-confirmation-modal__description"},[e._v("\n      "+e._s(e.descriptionText)+"\n    ")]),e._v(" "),e.showForAllCheckbox?t("TcCheckbox",{staticClass:"delete-confirmation-modal__checkbox",attrs:{text:e.checkboxText},model:{value:e.forAllChecked,callback:function(t){e.forAllChecked=t},expression:"forAllChecked"}}):e._e()],1),e._v(" "),t("div",{staticClass:"delete-confirmation-modal__footer",attrs:{slot:"footer"},slot:"footer"},[t("TcButton",{staticClass:"main-modal__button main-modal__button--cancel",attrs:{type:"text",text:e.cancelText||e.defaultText.cancel},on:{click:e.discard}}),e._v(" "),t("TcButton",{staticClass:"main-modal__button main-modal__button--confirm",attrs:{disabled:null===e.canRemoveAnotherMessageForAll,type:"unelevated",mode:"danger",text:e.confirmText||e.defaultText.confirm},on:{click:e.confirm}})],1)])};ie._withStripped=!0;var oe=s(95353),re=s(66764),le=()=>[i.A.chatState.messages,i.A.chatState.nonDetachedMessages].flatMap((e=>e?e.filter((e=>{if(e.empty)return!1;const t=e.getId();return i.A.chatState.selectedMessages.includes(t)})):[])),ce={name:"MainConfirmationModal",props:{cancelText:{type:String,default:null},confirmText:{type:String,default:null},chatDisplayName:{type:String,default:null}},async created(){const{selectedChat:e}=this,t=le(),s=await e.getChatPermissions();this.canRemoveAnotherMessageForAll=s.canRemoveAnotherMessageForAll(),this.canRemoveMyMessageForAll=s.canRemoveMyMessageForAll();for(const e of t){const t=e.getAuthor().getId()===(0,n.II)(!0);if(this.showForAllCheckbox=t?this.canRemoveMyMessageForAll:this.canRemoveAnotherMessageForAll,this.showForAllCheckbox)break}this.showForAllCheckbox||(this.forAllChecked=!1)},methods:{async confirm(){const e=le(),t=this.forAllChecked,s=await Promise.allSettled(e.map((e=>{if(!t)return this.removeMessage({message:e,forAll:t});const s=e.getAuthor().getId()===(0,n.II)(!0);return this.removeMessage({message:e,forAll:s?this.canRemoveMyMessageForAll:this.canRemoveAnotherMessageForAll})})));let a=0;for(const[t,{status:n,reason:i}]of s.entries())"rejected"===n&&(a++,console.warn("Failed to remove message",e[t],i));a&&(0,re.A)(`Failed to remove ${a} messages`),(0,Q.A)(),i.A.chatState.deleteModalOpen=!1},discard(){"single-remove"===this.webrtcState.chatState.interactionType&&(0,Q.A)(),i.A.chatState.deleteModalOpen=!1},...(0,oe.i0)("chatManager",["removeMessage"])},computed:{defaultText(){return{header:this.pgettext("A header","Confirmation"),cancel:this.pgettext("A button","Cancel"),confirm:this.pgettext("A button","Delete")}},checkboxText(){return this.selectedChat.isP2PChat()?this.pgettext("A checkbox","Also delete for %DN").replace("%DN",this.chatDisplayName):this.pgettext("A checkbox","Delete for all")},descriptionText(){return 1===this.webrtcState.chatState.selectedMessages.length?this.pgettext("A question in the dialogue window","Do you want to delete this message?"):this.pgettext("A question in the dialogue window","Do you want to delete selected messages?")},...(0,oe.aH)("chatManager",["selectedChat"])},data:()=>({webrtcState:i.A,forAllChecked:!1,showForAllCheckbox:!1,canRemoveAnotherMessageForAll:null,canRemoveMyMessageForAll:null})},de=(s(51810),(0,c.A)(ce,ie,[],!1,null,null,null).exports),he=function(){var e=this,t=e._self._c;return t("TcModal",{staticClass:"picture-viewer-modal",on:{close:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"picture-viewer-modal__header",on:{click:e.modalClickHandler}},[t("div",{staticClass:"picture-viewer-modal__info",on:{click:function(e){e.stopPropagation()}}},[t("span",{staticClass:"picture-viewer-modal__info-title"},[e._v("\n          "+e._s(e.pictureObject.sourceMessage.getFileName())+"\n        ")]),e._v(" "),t("div",{staticClass:"picture-viewer-modal__info-description-container"},[t("span",[e._v("\n            "+e._s(e.pictureObject.sourceMessage.getAuthor().displayName)+"\n          ")]),e._v(" "),t("span",[e._v("\n            "+e._s(e.subtitle)+"\n          ")])])]),e._v(" "),t("TcIcon",{staticClass:"picture-viewer-modal__close-icon",attrs:{clickable:"",icon:"close"},on:{click:function(t){return e.$emit("close")}}})],1)]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"picture-viewer-modal__content-container",on:{click:e.modalClickHandler}},[t("img",{staticClass:"picture-viewer-modal__image",attrs:{src:e.pictureObject.picture.source,alt:""},on:{contextmenu:function(t){return t.preventDefault(),e.openContextMenuHandler.apply(null,arguments)},click:function(e){e.stopPropagation()}}})])]},proxy:!0},{key:"footer",fn:function(){return[t("div")]},proxy:!0}])})};he._withStripped=!0;var me=s(78355),ge={name:"FileViewer",props:{pictureObject:{type:Object,required:!0}},created(){(0,Q.A)()},methods:{modalClickHandler(){this.$emit("close")},openContextMenuHandler(e){i.A.chatState.contextMenuMessageId=this.pictureObject.sourceMessage.id,me.A.openByEvent({event:e,targetConferenceUserWithPadding:{trueconfId:this.pictureObject.sourceMessage.getAuthor().getId(),isMe:!1},menuType:"viewed-picture"})}},computed:{subtitle(){const e=this.pictureObject.sourceMessage.getCreateTime(),t=new Date(e);return`${`${t.getDate()}`.padStart(2,0)}.${`${t.getMonth()+1}`.padStart(2,0)}.${`${t.getFullYear()}`.padStart(2,0)} ${(0,M.N6)(e)}`}}},ue=(s(10124),(0,c.A)(ge,he,[],!1,null,null,null).exports),pe=s(41477),fe=s(74606),be=s(11414),xe=s(99761),_e={name:"MessagesList",components:{DeleteConfirmation:de,ChatMessageLoading:p,MountedEmitter:d,PictureViewer:ue},props:{messages:{type:Array,default:()=>[]},initScrollOffset:{type:Number,default:()=>null},chatDisplayName:{type:String,default:null}},async mounted(){this.chatManager.addEventListener("message",this.newMessageHandler)},beforeDestroy(){i.A.chatState.highlightMessageId=null,this.chatManager.removeEventListener("message",this.newMessageHandler)},methods:{keepShowFloatingDateLabel:xe.throttle((function(){clearTimeout(this.hideFloatingDateLabelTimeout),this.floatingDateLabelIsShown=!0,this.hideFloatingDateLabelTimeout=setTimeout((()=>{this.floatingDateLabelIsShown=!1}),3e3)}),200),newMessageHandler({chat:e,message:t}){e.getChatId()===this.selectedChatId&&(this.scrolledToBottom&&this.scrollToBottom(),!this.scrolledToBottom&&(0,fe.A)(t)&&(this.currentChatMeta.unreadMessagesIds.push(t.getId()),i.A.allChats={...i.A.allChats},this.$nextTick((()=>{setTimeout((()=>{this.recalculateScrollPositions()}),15)}))))},checkLoadNextMessage(){!(this.isListEmpty||this.$refs.messagesList.getOffset()<1)||this.isNextMessagesLoading||this.isReachedTop||(this.isNextMessagesLoading=!0,this.$emit("load-next-messages"))},checkLoadNextMessagesDown(){(this.webrtcState.chatState.nonDetachedMessages||this.hasMessagesToLoadBottom)&&this.scrollDownOffset<5&&!this.isNextMessagesLoadingBottom&&(this.isNextMessagesLoadingBottom=!0,this.$emit("load-next-messages",!0))},exitDetachedMessagesState(e=!1){e?i.A.chatState.messages.push(...this.webrtcState.chatState.nonDetachedMessages):i.A.chatState.messages=this.webrtcState.chatState.nonDetachedMessages,i.A.chatState.nonDetachedMessages=null;const t=i.A.allChats[this.selectedChatId];e||(t.reachedTop=!1),i.A.allChats={...i.A.allChats}},handleClickScrollBottomButton(){let e;if(this.webrtcState.chatState.nonDetachedMessages&&(this.exitDetachedMessagesState(),e=i.A.allChats[this.selectedChatId].scrollPosition),e)this.$nextTick((()=>{this.webrtcState.chatState.stubUploadedFiles.length?this.scrollToBottom():this.scrollToOffset(e),this.recalculateScrollPositions()}));else{if(this.hasMessagesToLoadBottom)return this.webrtcState.chatState.skipChatReseting=!1,this.webrtcState.allChats[this.selectedChatId].unreadMessagesIds=[],void this.$emit("reset-chat");if(this.unreadMessagesCount)return this.webrtcState.chatState.skipChatReseting=!1,void this.$emit("reset-chat");this.scrollOnNextResize=!0,this.scrollToBottom()}},scrollToBottom(e=!1){const t=()=>this.$refs.messagesList?.scrollToBottom();e?this.$nextTick(t):t(),this.$nextTick((()=>{this.$refs.messagesList&&this.recalculateScrollPositions()}))},messageClick(e){if("multiselect"===this.webrtcState.chatState.interactionType&&!i.A.chatState.forwardingMessages){const t=this.webrtcState.chatState.selectedMessages.indexOf(e);-1===t?i.A.chatState.selectedMessages.push(e):i.A.chatState.selectedMessages.splice(t,1)}},bindListListeners(){const{messagesList:e}=this.$refs,t=e.$el;t.eventListenerBound||(t.eventListenerBound=!0,t.addEventListener("wheel",(t=>{e.getOffset()<5&&t.deltaY<=0&&t.preventDefault()})))},getPseudoTargetConferenceUserWithPadding(e){return{trueconfId:e.getId(),isMe:e.getId()===(0,n.II)(!0)}},messageContextMenu(e,t,s){"multiselect"!==i.A.chatState.interactionType&&(i.A.chatState.contextMenuMessageId=t,me.A.openByEvent({event:s,targetConferenceUserWithPadding:this.getPseudoTargetConferenceUserWithPadding(e),menuType:"message"}))},messageReply(e){"multiselect"!==i.A.chatState.interactionType&&(i.A.chatState.interactionType="reply",i.A.chatState.selectedMessages=[e])},authorClick(e,t,s=null){me.A.openByEvent({event:t,targetConferenceUserWithPadding:this.getPseudoTargetConferenceUserWithPadding(e),menuType:s})},getIsScrolledToTop(){return 0===this.$refs.messagesList.getOffset()},getIsScrolledToBottom(){const{messagesList:e}=this.$refs;return e.getOffset()+e.getClientSize()===e.getScrollSize()},scrollToIndex(e){const t=this.$refs.messagesList.virtualList.virtual.getOffset(e);this.scrollToOffset(t)},scrollToOffset(e){this.$refs.messagesList.scrollToOffset(e)},getLoadedMessageById(e){return this.$refs.messagesList.$el.querySelector(`.tc-list__content section[data-id="${e}"]`)},getRealOffsetOfLoadedMessageById(e){const t=this.getLoadedMessageById(e);if(!t)throw new Error("load count shouldn't be greater than keeps");return t?.parentElement.offsetTop},scrollToLoadedMessageById(e){this.scrollToOffset(this.getRealOffsetOfLoadedMessageById(e))},handleListScroll([,e]){this.recalculateScrollPositions(),this.checkLoadNextMessage(),this.checkLoadNextMessagesDown(),this.$emit("scroll",e)},recalculateScrollPositions(){if(!this.$refs.messagesList)return this.scrollDownOffset=0,void(this.currentScrollPosition=0);const{clientHeight:e}=this.$el,t=this.$refs.messagesList.$el.querySelector(".tc-list");this.scrollDownOffset=t.scrollHeight-t.scrollTop-e,this.currentScrollPosition=t.scrollTop},async highlightMessage(e){const t=this.webrtcState.chatState.messages.findIndex((t=>t.getId()===e));if(-1!==t)this.scrollToIndex(t);else{const s=await this.selectedChat.getMessageHandler().getMessageById(e);if(!s)return void(0,re.A)("Message doesn't exist");await(0,pe.A)(s),i.A.chatState.nonDetachedMessages=this.webrtcState.chatState.messages,i.A.chatState.messages=[s],setTimeout((()=>{this.scrollToIndex(t)}),10)}this.webrtcState.allChats[this.selectedChatId].scrollPosition=this.currentScrollPosition,i.A.chatState.highlightMessageId=null,i.A.chatState.highlightMessageId=e},listItemResize([e,t]){if(this.webrtcState.chatState.enableMessagesUnload&&-1!==e){const s=this.webrtcState.chatState.messages.find((t=>t.getId()===e));s?s.height=t:console.error("No desired message to resize",e)}if(!this.scrollOnNextResize)return;const{messagesList:s}=this.$refs;this.scrollOnNextResize=!1,this.$nextTick((()=>{i.A.chatState.highlightMessageId?this.highlightMessage(i.A.chatState.highlightMessageId):(this.scrollToBottom(),setTimeout((()=>{s.getOffset()+s.getClientSize()<s.getScrollSize()&&(this.scrollOnNextResize=!0,this.scrollToBottom())}),20))}))}},computed:{messagesGroupedByTimeLabels(){const e=[],t=Object.entries(xe.groupBy(this.messagesToRender,(e=>M.Xr.call(this,e.getCreateTime())))).map((([t,s])=>(t={getId:()=>t,key:t,empty:!0,isTimeLabel:!0},e.push(t),[t,...s])));return{dateLabels:e,messages:this.isReachedTop?t.flat():t.flat().slice(1)}},messagesWithBottomLoader(){return this.webrtcState.chatState.nonDetachedMessages?[...this.messagesGroupedByTimeLabels.messages,{getId:()=>-1,key:-1,empty:!0,infiniteScroll:this.isNextMessagesLoadingBottom}]:[...this.messagesGroupedByTimeLabels.messages,...this.webrtcState.chatState.stubUploadedFiles]},scrolledToBottom(){return 0===this.scrollDownOffset},showScrollDownButton(){const e=!!this.webrtcState.chatState.nonDetachedMessages;return(!e||!this.webrtcState.chatState.interactionType)&&(e||this.scrollDownOffset>30||this.hasMessagesToLoadBottom)},isGroupChat(){return this.selectedChat.isGroupChat()},currentChatMeta(){return this.webrtcState.allChats[this.selectedChatId]},isReachedTop(){return this.currentChatMeta.reachedTop},messagesToRender(){return(this.messages||[]).filter((e=>!(0,be.A)(e)||i.A.chatState.showAllSystemMessages))},isListEmpty(){return 0===this.messagesToRender.length},hasMessagesToLoadBottom(){return this.messages?.length&&this.messages[this.messages.length-1].id!==this.currentChatMeta.lastMessageText?.id},unreadMessagesCount(){return this.currentChatMeta.unreadMessagesIds.length},...(0,oe.aH)("chatManager",["selectedChat","supportedMessageTypes","chatManager"]),...(0,oe.L8)("chatManager",["selectedChatId"])},data:()=>({floatingDateLabelIsShown:!1,hideFloatingDateLabelTimeout:null,scrollOnNextResize:!1,isNextMessagesLoading:!1,isNextMessagesLoadingBottom:!1,scrollDownOffset:0,currentScrollPosition:0,webrtcState:i.A,ChatMessage:ne,contextMenuState:me.A}),watch:{currentScrollPosition(e,t){e<t&&!this.floatingDateLabelIsShown&&this.keepShowFloatingDateLabel()},scrollDownOffset(e){0===e&&(clearTimeout(this.hideFloatingDateLabelTimeout),this.floatingDateLabelIsShown=!1)},messages:{handler(e){if(!e||this.isListEmpty)return this.scrollOnNextResize=!1,this.isNextMessagesLoading=!1,this.isNextMessagesLoadingBottom=!1,this.scrollDownOffset=0,void(this.currentScrollPosition=0);this.$refs.messagesList?setTimeout((()=>{this.recalculateScrollPositions(),this.checkLoadNextMessage(),this.checkLoadNextMessagesDown()}),0):null===this.initScrollOffset&&(this.scrollOnNextResize=!0)},immediate:!0},messagesToRender:{handler(){setTimeout((()=>{this.checkLoadNextMessage(),this.checkLoadNextMessagesDown()}),100)}},"webrtcState.chatState.showAllSystemMessages":{handler(){this.$nextTick((()=>{this.recalculateScrollPositions(),this.isListEmpty||(this.scrollToOffset(this.currentScrollPosition+10),setTimeout((()=>{this.scrollToOffset(this.currentScrollPosition-10)}),100))}))}},"webrtcState.chatState.interactionType":{handler(e,t){null===t&&e&&this.scrolledToBottom&&this.scrollToBottom(!0)},deep:!0},"webrtcState.chatState.selectedMessages":function(e){0===e.length&&(i.A.chatState.interactionType=null)},scrolledToBottom:{handler(e){e&&!this.hasMessagesToLoadBottom&&(i.A.allChats[this.selectedChatId].unreadMessagesIds=[])}},"webrtcState.chatState.stubUploadedFiles":{async handler(){setTimeout((()=>{this.scrollToBottom()}),500)}}}},we=_e,ve=(s(56574),(0,c.A)(we,o,[],!1,null,null,null).exports),ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message-modifier",class:{"message-modifier--multiselect":e.isMultiselect}},[e.isMultiselect?[t("icon",{staticClass:"message-modifier__close-icon mdl-js-ripple-effect ripple-container",attrs:{name:"close"},on:{click:e.discardMessageInteractions}}),e._v(" "),t("div",{staticClass:"message-modifier__content"},[t("p",{staticClass:"message-modifier__content__content one-line"},[e._v("\n        "+e._s("multiselect"===e.mode?e.pgettext("A counter displayed when a user selects multiple messages. Please note that %n will be replaced with an integer; so, don’t delete or translate this part of the string.","Selected: %n").replace("%n",e.multiselectSelectCount):e.messageContent)+"\n      ")])]),e._v(" "),t("div",{staticClass:"message-modifier__multiselect-actions"},e._l(e.multiselectActions,(function(e,s){return t("icon",{key:s,staticClass:"message-modifier__icon mdl-js-ripple-effect ripple-container",attrs:{fontFamily:e.isSvgIcon?null:"Material Icons",name:e.icon},on:{click:e.action}})})),1)]:[t("icon",{staticClass:"message-modifier__icon no-padding",attrs:{name:e.mainIcon,fontFamily:"Material Icons"}}),e._v(" "),t("div",{staticClass:"message-modifier__content-wrapper"},[e.showPreviewPicture?t("div",{staticClass:"message-modifier__content-preview-picture"},[t("img",{attrs:{src:e.selectedMessage.getPreviewUrl()}})]):e._e(),e._v(" "),t("div",{staticClass:"message-modifier__content"},[t("p",{staticClass:"message-modifier__content__primary one-line"},[e._v("\n          "+e._s("edit"===e.mode?e.pgettext("The heading in the menu displayed when a user edits a message sent via a chat.","Edit message"):e.messageAuthorName)+"\n        ")]),e._v(" "),t("p",{staticClass:"message-modifier__content__content one-line",domProps:{innerHTML:e._s(e.sanitizeToFormatedText(e.mainContent))}})])]),e._v(" "),t("icon",{staticClass:"message-modifier__close-icon mdl-js-ripple-effect ripple-container",attrs:{name:"close"},on:{click:e.discardMessageInteractions}})]],2)};ye._withStripped=!0;var Me=()=>{const e=le()[0];if(e)return(0,b.A)(e)},Se={name:"MessageModifier",components:{Icon:P.A},props:{mode:{type:String,default:()=>null}},methods:{discardMessageInteractions:Q.A},computed:{mainIcon(){return this.forwardingMessages?"forward":{reply:"reply",edit:"edit"}[this.mode]},isMultiselect(){return!this.forwardingMessages&&"multiselect"===this.mode},multiselectSelectCount(){return this.webrtcState.chatState.selectedMessages.length},showPreviewPicture(){return this.selectedMessage&&this.selectedMessage.getPreviewUrl?.()},selectedMessage(){return le()[0]},messageContent(){return this.showPreviewPicture?this.pgettext("A text hint when reply to messages with a imagein the chat.","Image"):(0,y.A)(Me())},multiselectActions(){return[{icon:"forward",action:()=>{i.A.chatState.forwardingMessages={chatId:this.selectedChat.getChatId(),messages:le()},this.$router.replace({name:"conference",params:this.$route.params,query:{...this.$route.query,chatSelect:!0}})}},{icon:"copy",isSvgIcon:!0,action:()=>{this.multiselectSelectCount>1?(async()=>{const e=le(),t=e.reduce(((t,s,a)=>{const n=!!a&&s.getAuthor().getId()===e[a-1].getAuthor().getId(),i=s.getAuthor().displayName,o=s.getCreateTime(),r=(0,b.A)(s);if(!r)return t;let l="";return t&&(l+=`${t}\n\n`),n||(l+=`${i}, `),l+=`[${new Date(o).toLocaleString()}]\n${r}`,l}),"");await navigator.clipboard.writeText(t)})():navigator.clipboard.writeText(this.messageContent),(0,Q.A)()}},{icon:"delete",isSvgIcon:!0,action:()=>{i.A.chatState.deleteModalOpen=!0}}]},forwardingMessages(){const{forwardingMessages:e}=this.webrtcState.chatState;if(e)return e.messages},messageAuthorName(){if(this.forwardingMessages){const e=[...new Set(this.forwardingMessages.map((e=>e.getAuthor().getDisplayName())))];return 1===e.length?this.forwardingMessages.find((t=>t.getAuthor().getDisplayName()===e[0])).getAuthor().displayName:2===e.length?this.pgettext("The conjunction “and” which will be used to indicate that  a user forwards a message from multiple address book contacts, e.g., from %DisplayName and %DisplayName","%DisplayName and %DisplayName").replace("%DisplayName",this.forwardingMessages.find((t=>t.getAuthor().getDisplayName()===e[0])).getAuthor().displayName).replace("%DisplayName",this.forwardingMessages.find((t=>t.getAuthor().getDisplayName()===e[1])).getAuthor().displayName):this.pgettext("The text hint indicating that a user forwards a message from multiple address book contacts. %DisplayName is the name of the first contact. %n is the counter indicating the number of other contacts.","%DisplayName and others (%n):").replace("%DisplayName",this.forwardingMessages.find((t=>t.getAuthor().getDisplayName()===e[0])).getAuthor().displayName).replace("%n",this.forwardingMessages.find((t=>t.getAuthor().getDisplayName()===e.length-1)).getAuthor().displayName)}const e=this.webrtcState.chatState.selectedMessages[0];return void 0===e?void 0:((e,t=i.A.chatState.messages)=>t.find((t=>!t.empty&&t.getId()===e)))(e).getAuthor().displayName},mainContent(){return this.forwardingMessages?this.forwardingMessages.length>1?this.pgettext("A text hint displayed when a user selects multiple messages. Please note that %n is a counter indicating how many messages have been selected. It will be replaced with an integer. So, don’t delete or translate this part of the string.","Number of messages: %n").replace("%n",this.forwardingMessages.length):(0,y.A)((0,b.A)(this.forwardingMessages[0])):this.messageContent},...(0,oe.aH)("chatManager",["selectedChat"])},data:()=>({webrtcState:i.A,sanitizeToFormatedText:f.A})},Ce=(s(87911),(0,c.A)(Se,ye,[],!1,null,null,null).exports),ke=function(){var e=this,t=e._self._c;return t("section",{staticClass:"chat-message-form",class:{"chat-message-form--disabled":e.disabled}},[e.smilesAreAvailable?t("button",{directives:[{name:"mdl",rawName:"v-mdl"},{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"chat-message-form__smile-button mdl-js-ripple-effect ripple-container",attrs:{type:"button",name:"button"}},[t("icon",{attrs:{name:"tag_faces"}}),e._v(" "),t("span",{staticClass:"mdl-ripple"})],1):e._e(),e._v(" "),t("label",{staticClass:"chat-message-form-label",class:{"chat-message-form-label--no-smiles":!e.smilesAreAvailable&&!e.filesUploadIsAvailable}},[t("div",{staticClass:"chat-message__text-block",class:e.newMessageText.length>e.maxMessageLength?"chat-message__text-block_red":""},[e.newMessageText.length>3095?t("div",{staticClass:"chat-message__count-block"},[t("span",{staticClass:"chat-message__count-text",class:e.newMessageText.length>e.maxMessageLength?"chat-message__count-text_red":""},[e._v("\n          "+e._s(e.messageLetterCounts)+"\n        ")])]):e._e(),e._v(" "),t("textarea",{directives:[{name:"tab-focus",rawName:"v-tab-focus"},{name:"model",rawName:"v-model",value:e.newMessageText,expression:"newMessageText"}],ref:"textarea",staticClass:"chat-message-form-textarea",attrs:{placeholder:e.placeholder,spellcheck:"false",disabled:e.disabled},domProps:{value:e.newMessageText},on:{keydown:e.keydownHandler,input:function(t){t.target.composing||(e.newMessageText=t.target.value)}}})])]),e._v(" "),e.filesUploadIsAvailable?t("button",{directives:[{name:"mdl",rawName:"v-mdl"},{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],ref:"filesUploadButton",staticClass:"chat-message-form__file-upload-button",class:e.disabledSendFile?["chat-message-form__smile-button--disabled"]:["mdl-js-ripple-effect","ripple-container"],attrs:{type:"button",name:"button",disabled:e.disabledSendFile},on:{click:function(t){return e.$refs.fileSelect.open()}}},[t("icon",{attrs:{name:"attach_file",fontFamily:"Material Icons"}}),e._v(" "),t("span",{staticClass:"mdl-ripple"})],1):e._e(),e._v(" "),t("FileUploadSelect",{ref:"fileSelect",on:{select:e.uploadFiles}}),e._v(" "),t("button",{directives:[{name:"mdl",rawName:"v-mdl"},{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"chat-message-form__send-button mdl-js-ripple-effect ripple-container",attrs:{title:e.hintForDisabledButton,type:"button",name:"button",disabled:!e.canSendMessage},on:{click:function(t){return e.sendMessageHandler()},pointerup:function(t){return e.$refs.textarea.focus()}}},[e.showSendingLoader?t("TcPreloader",{staticClass:"sending-message-preloader",attrs:{type:"circle"}}):t("icon",{attrs:{name:"send"}}),e._v(" "),t("span",{staticClass:"mdl-ripple"})],1),e._v(" "),e.showSendingFilesModal?t("SendingFilesModal",{ref:"sendingFilesModal",attrs:{filesErrors:e.filesErrors,subMessage:e.newMessageText,sendingFiles:e.sendingFiles,maxMessageLength:e.maxMessageLength},on:{"update:sendingFiles":function(t){e.sendingFiles=t},"update:sending-files":function(t){e.sendingFiles=t},discard:e.sendingFilesModalDiscard,send:e.sendingFilesModalConfirm,"send-files":e.sendUploadedFiles,"show-drop-overlay":function(t){e.showSendingFilesModalDropOverlay=!0}}}):e._e(),e._v(" "),e.showSendingFilesModalDropOverlay?t("FileDropOverlay",{attrs:{anchorElem:e.sendingFilesModalContainer},on:{hide:function(t){e.showSendingFilesModalDropOverlay=!1}}}):e._e()],1)};ke._withStripped=!0;var Ae=s(36545),Ie=s.n(Ae),Te=s(57574),Le=function(){var e=this,t=e._self._c;return t("TcModal",{ref:"modal",staticClass:"sending-files-modal",attrs:{headerText:e.headerText},on:{close:e.discard,"content-mounted":e.mountedModalHandler}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"sending-files-modal_sending-files"},e._l(e.sendingFiles,(function(s,a){return t("div",{key:a,staticClass:"sending-files-modal_sending-file"},[t("FileDisplay",{attrs:{errorType:e.getErrorType(s),fileName:s.name,fileSize:s.size,filePreview:(e.filesPreviews.find((({file:e})=>e===s))||{}).preview,fileIcon:void 0,progress:void 0}}),e._v(" "),t("div",{staticClass:"sending-files-modal_sending-file-icons"},[t("Icon",{attrs:{name:"cached",fontFamily:"Material Icons"},on:{click:function(t){return e.openFileSelect(a)}}}),e._v(" "),t("Icon",{attrs:{name:"delete"},on:{click:function(t){return e.removeFile(a)}}})],1)],1)})),0),e._v(" "),t("TcTextField",{staticClass:"sending-files-modal_message-input",attrs:{autofocus:"",error:null,hint:null,label:e.pgettext("A text hint for an input field. Here, a user can enter a description of the photo that will be sent to a chat","Description"),maxlength:e.maxMessageLength},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),t("FileUploadSelect",{ref:"fileSelect",attrs:{multiple:null===e.replacingFileIndex},on:{select:e.handleFileSelect}})],1),e._v(" "),t("div",{staticClass:"sending-files-modal__footer",attrs:{slot:"footer"},slot:"footer"},[t("TcButton",{staticClass:"main-modal__button",attrs:{type:"text",text:e.pgettext("A button for adding another image (or a file) to the list","Add")},on:{click:function(t){return e.openFileSelect(null)}}}),e._v(" "),t("div",{staticClass:"sending-files-modal__side-buttons"},[t("TcButton",{staticClass:"main-modal__button main-modal__button--cancel",attrs:{type:"text",text:e.pgettext("The button that closes the dialogue window","Cancel")},on:{click:e.discard}}),e._v(" "),t("TcButton",{staticClass:"main-modal__button",attrs:{disabled:e.sendDisabled,text:e.pgettext("The button that sends an image to a chat","Send"),type:"unelevated"},on:{click:e.confirm}})],1)],1)])};Le._withStripped=!0;var Fe=function(){return(0,this._self._c)("input",{ref:"input",attrs:{type:"file",multiple:"",hidden:""},on:{change:this.handleSelect}})};Fe._withStripped=!0;var De={methods:{handleSelect(){this.$emit("select",[...this.$refs.input.files]),this.$refs.input.value=null},open(){this.$refs.input.click()}}},Ne=(0,c.A)(De,Fe,[],!1,null,null,null).exports,Pe={components:{FileDisplay:H,Icon:P.A,FileUploadSelect:Ne},props:{subMessage:{type:String,required:!0},sendingFiles:{type:Array,required:!0},filesErrors:{type:Array,default:()=>[]},maxMessageLength:{type:Number,required:!0}},FILE_MAX_SIZE:1024**3,beforeDestroy(){this.$refs.fileSelect&&(this.$refs.fileSelect.value=null),this.currentModalRef&&this.currentModalRef.removeEventListener("dragenter",this.dragEnterHandler)},methods:{mountedModalHandler(){this.currentModalRef=this.$refs.modal.$el.querySelector(".tc-modal"),this.currentModalRef.addEventListener("dragenter",this.dragEnterHandler)},dragEnterHandler(){this.$emit("show-drop-overlay")},openFileSelect(e){this.replacingFileIndex=e,this.$nextTick((()=>{this.$refs.fileSelect.open()}))},discard(){this.$emit("discard")},async confirm(){this.sendDisabled||(this.message&&await new Promise((e=>{this.$emit("send",[this.message,e])})),this.$emit("send-files"))},async handleFileSelect(e){if(null===this.replacingFileIndex)this.sendingFilesModel.push(...e);else{const t=this.sendingFiles[this.replacingFileIndex],s=this.filesPreviews.findIndex((({file:e})=>e===t));this.filesPreviews.splice(s,1),this.sendingFilesModel.splice(this.replacingFileIndex,1,e[0])}},removeFile(e){const t=this.sendingFiles[e],s=this.filesPreviews.findIndex((({file:e})=>e===t));this.filesPreviews.splice(s,1),this.sendingFilesModel.splice(e,1),this.sendingFilesModel.length||this.discard()},getErrorType(e){const t=this.filesErrors.find((t=>t.file===e));return t?.error||""}},computed:{sendDisabled(){return 0===this.sendingFilesModel.length||this.sendingFilesModel.every((e=>e.size>this.$options.FILE_MAX_SIZE))},headerText(){return this.pgettext("The heading in the pop-up window displayed when a user selects multiples files that should be sent via the chat. Please note that %Number will be replaced with an integer; so don’t delete or translate this part of the string.","Selected files: %Number").replace("%Number",this.sendingFilesModel.length)},sendingFilesModel:{get(){return this.sendingFiles},set(e){this.$emit("update:sendingFiles",e)}}},data(){return{fileManager:i.A.client.getFileManager(),filesPreviews:[],message:this.subMessage,replacingFileIndex:null,currentModalRef:null}},watch:{sendingFiles:{handler(e){e.forEach((e=>{if(e instanceof File){if(-1!==this.filesPreviews.findIndex((({file:t})=>t===e)))return;this.fileManager.createPreview(e).then((t=>{this.filesPreviews.push({file:e,preview:t?URL.createObjectURL(t.preview):t})}))}}))},immediate:!0}}},$e=(s(14890),(0,c.A)(Pe,Le,[],!1,null,null,null).exports),Ze=function(){var e=this,t=e._self._c;return t("div",{ref:"fileDropOverlay",staticClass:"file-drop-overlay",class:[e.anchorElem&&"with-anchor"],style:e.anchorStyles},[t("Icon",{staticClass:"file-drop-overlay-icon",attrs:{name:"upload_file"}}),e._v(" "),t("span",[e._v(e._s(e.pgettext("A text hint displayed to a user. The hint indicates that it is possible to drag and drop files into a chat","Drag and drop your files here")))])],1)};Ze._withStripped=!0;var ze={components:{Icon:P.A},props:{anchorElem:{type:HTMLElement,default:()=>null}},mounted(){["dragend","dragleave","drop"].forEach((e=>{this.$refs.fileDropOverlay.addEventListener(e,this.dragLeave)}))},beforeDestroy(){["dragend","dragleave","drop"].forEach((e=>{this.$refs.fileDropOverlay.removeEventListener(e,this.dragLeave)}))},methods:{dragLeave(){this.$emit("hide")}},computed:{anchorStyles(){if(!this.anchorElem)return{};const{top:e,left:t,width:s,height:a}=this.anchorElem.getBoundingClientRect();return Object.fromEntries(Object.entries({top:e,left:t,width:s,height:a}).map((([e,t])=>[e,`${t}px`])))}}},Be=(s(20753),(0,c.A)(ze,Ze,[],!1,null,null,null).exports);function Ee(e=250){return new Promise((t=>{setTimeout(t,e)}))}const Oe={totalBytes:0,completedBytes:0};class Re extends EventTarget{constructor(e,t){super(),this.fileManager=e,this.source=t,this.gettingPreviewState=function(){const e={};return e.promise=new Promise(((t,s)=>{e.resolve=t,e.reject=s})),e}(),this.abortController=new AbortController,this.isUploadingStatusStatus=null,this.relatedMessagesIds=[],this.error=null,this.state={...Oe},this.fileManager.createPreview(this.source).then((e=>{const t=new CustomEvent("changePreview",{detail:e});this.gettingPreviewState.resolve(e),this.dispatchEvent(t)}))}getFile(){return this.source}getState(){return this.state}isUploading(){return this.isUploadingStatus}setRelatedMessageId(e){this.relatedMessagesIds.push(e)}setConfig(e){this.config={...e}}setState(e){this.state={...this.state,...e};const t=new CustomEvent("uploadingStateChange",{detail:this.state});this.dispatchEvent(t)}async checkUploadProgress(e){for(;this.isUploadingStatus;){if(e.processState().totalBytes<=e.processState().completedBytes){this.isUploadingStatus=!1,this.setState({completedBytes:e.processState().totalBytes});break}await Ee(),this.setState(e.processState())}}refreshSingleUpload(){return this.isUploadingStatus()?Promise.resolve():this.upload(this.config)}async uploadSingleFile(e={}){try{const{compress:t=!0}=e;this.setConfig(e);const s=await this.fileManager.uploadFile({file:this.source,preview:await this.gettingPreviewState.promise,abortSignal:this.abortController.signal,compress:t}),a=s.getTaskByKey(0);return this.isUploadingStatus=!0,this.checkUploadProgress(s),a?.response.then((e=>e.response)).catch((e=>(this.error=e,Promise.reject(e)))).finally((()=>{this.isUploadingStatus=!1}))}catch(e){return this.isUploadingStatus=!1,this.error=e,Promise.reject(e)}}abort(){this.isUploadingStatus=!1,this.abortController.abort(),this.setState(Oe)}}var He=s(91635),je={name:"ChatMessageForm",FILE_MAX_SIZE:1024**3,components:{Icon:P.A,SendingFilesModal:$e,FileUploadSelect:Ne,FileDropOverlay:Be},props:{disabled:{type:Boolean,default:!1},showChatAreaDropOverlay:{type:Boolean,default:!1},disabledSendFile:{type:Boolean,default:!1}},beforeDestroy(){this.registerUnregisterDragEvents(!1)},mounted(){this.initTextareaHeightUpdater(),this.updateTextareaHeight(),this.platform.desktop&&this.focus(),this.registerUnregisterDragEvents(!0)},methods:{registerUnregisterDragEvents(e){const t=e?"addEventListener":"removeEventListener";["dragover","dragenter"].forEach((e=>{window[t](e,this.dragEnter)})),["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach((e=>{window[t](e,this.cancelEvent)})),window[t]("drop",this.filesDrop)},cancelEvent(e){e.preventDefault(),e.stopPropagation()},dragEnter(){this.showChatAreaDropOverlay||this.showSendingFilesModal&&this.recomputeSendingFilesModalContainer()},filesDrop(e){if(!e.dataTransfer.items||!e.target.className.includes("file-drop-overlay"))return;const t=[];for(const s of e.dataTransfer.items)"file"===s.kind&&t.push(s.getAsFile());t.length&&(this.showSendingFilesModal?this.sendingFiles.push(...t):this.sendingFiles=t,this.uploadFiles(this.sendingFiles))},focus(){this.platform.desktop&&this.$refs.textarea.focus()},initTextareaHeightUpdater(){const{minLines:e,maxLines:t}=this.newMessageTextareaOptions;this.updateTextareaHeight=function(e){const t=e.domEl,{minLines:s}=e,{maxLines:a}=e;return function(){const e=getComputedStyle(t);function n(t){const s=e.getPropertyValue(t);return parseFloat(s)}const i=n("line-height"),o=n("padding-top")+n("padding-bottom"),r=n("border-top-width")+n("border-bottom-width"),l=o+r,c=i*s+l,d=i*a+l;t.style.setProperty("min-height",`${c}px`),t.style.setProperty("max-height",`${d}px`),t.style.setProperty("height","1px");const h=function(e){const{value:t}=e;if(0===t.trim().length){e.value=t+"a";const{scrollHeight:s}=e;return e.value=t,s}return e.scrollHeight}(t)+r;h>=d?t.style.setProperty("overflow","auto"):t.style.setProperty("overflow","hidden"),t.style.setProperty("height",`${h}px`)}}({domEl:this.$refs.textarea,minLines:e,maxLines:t})},async sendUploadedFiles(){const e=[],t=i.A.client.getFileManager(),s=this.getValidationErrorsNotifies();this.sendingFiles.length>this.filesErrors.length&&(this.showSendingFilesModal=!0),s&&s.forEach((e=>this.notify({text:e}))),this.validFiles.forEach((s=>{e.push((0,pe.A)(new W.A(new Re(t,s),He.A.me.originConferenceUser.callId)))})),i.A.chatState.stubUploadedFiles.push(...await Promise.all(e).then((e=>(e.forEach((e=>{e.getUploader().uploadSingleFile().then((async t=>{const s=i.A.chatState.stubUploadedFiles.findIndex((t=>t.getId()===e.getId())),[a]=i.A.chatState.stubUploadedFiles.splice(s,1),o=a.getUploader().getFile(),r=await(0,n._z)(t,void 0,"file");i.A.chatState.loadedFiles.push({[r.getId()]:{source:URL.createObjectURL(o),controller:new AbortController,downloading:!1,contentLength:a.getUploader().getState().totalBytes,receivedLength:a.getUploader().getState().completedBytes,error:null}})})).catch((()=>{const t=i.A.chatState.stubUploadedFiles.findIndex((t=>t.getId()===e.getId()));i.A.chatState.stubUploadedFiles.splice(t,1)}))})),e)))),this.showSendingFilesModal=!1},async uploadFiles(e){this.sendingFiles=e,this.$nextTick((()=>{const e=this.getValidationErrorsNotifies();this.sendingFiles.length>this.filesErrors.length&&(this.showSendingFilesModal=!0),e&&!this.showSendingFilesModal&&e.forEach((e=>this.notify({text:e})))}))},sendingFilesModalDiscard(){this.showSendingFilesModal=!1,this.sendingFiles=null},sendingFilesModalConfirm([e,t]){this.sendMessageHandler(e,t)},async sendMessageHandler(e=void 0,t=void 0){if(this.newMessageText=e??this.newMessageText,!this.canSendMessage)return;const s=setTimeout((()=>{this.showSendingLoader=!0}),50);this.isSending=!0,this.$emit("send-message",e??this.newMessageText.trim(),(e=>{clearTimeout(s),this.isSending=!1,this.showSendingLoader=!1,e&&(this.newMessageText="",t?.())}))},keydownHandler(e){switch(e.keyCode){case Ie()("enter"):return void this.textareaEnterPress(e);case Ie()("escape"):return void(0,Q.A)();case Ie()("up"):{if(null!==this.webrtcState.chatState.interactionType||this.webrtcState.chatState.forwardingMessages)return;const e=(0,Te.A)(),t=this.webrtcState.chatState.messages.find((t=>t.getAuthor().getId()===e))?.getId();if(!t)return;i.A.chatState.selectedMessages=[t],i.A.chatState.interactionType="edit";break}}},textareaEnterPress(e){e.shiftKey||(e.preventDefault(),this.sendMessageHandler())},sendHistoryBack(){const{messages:e,offset:t}=this.sendHistory;t!==e.length&&(this.sendHistory.offset++,this.newMessageText=this.sendHistoryMessage)},sendHistoryForward(){if(this.sendHistory.offset<=1)return this.sendHistory.offset=0,void(this.newMessageText="");this.sendHistory.offset--,this.newMessageText=this.sendHistoryMessage},validateFiles(e){return e.map((e=>e.size>this.$options.FILE_MAX_SIZE?{file:e,error:"oversize"}:{file:e,error:null})).filter((e=>!!e.error&&e.file))},checkValidationErrors(){if(!this.filesErrors.length)return null;const e=[],t={oversize:[]};let s=null;this.filesErrors.forEach((e=>{t[e.error].push(e.file)}));for(const a in t)1===t[a].length&&this.sendingFiles.length===t[a].length&&(s="singleFileHasError"),t[a].length>0&&this.sendingFiles.length>t[a].length&&(s="someFilesHasError"),t[a].length>1&&this.sendingFiles.length===t[a].length&&(s="everyFileHasError"),e.push({errorFiles:t[a],errorInfo:{errorType:s,errorName:a}});return e},getValidationErrorsNotifies(){const e=this.checkValidationErrors();return e?e.map((({errorFiles:e,errorInfo:t})=>this.validationErrorsTexts[t.errorType][t.errorName].replace("%FileName",e[0].name).replace("%n",e.length))):null},recomputeSendingFilesModalContainer(){this.sendingFilesModalContainer=this.$refs.sendingFilesModal.$refs.modal.$el.querySelector(".tc-modal")}},computed:{validationErrorsTexts(){return{singleFileHasError:{oversize:this.pgettext("Text in the notification of an error when sending a file exceeding the maximum size","The file %FileName has not been sent. Maximum file size is 1 GB")},someFilesHasError:{oversize:this.pgettext("Text in the notification of an error when sending multiple files exceeding the maximum size","Some files (%n) have not been sent. Maximum file size is 1 GB")},everyFileHasError:{oversize:this.pgettext("Text in the notification of an error when sending a files exceeding the maximum size","Files not sent. Maximum file size is 1 GB")}}},sendHistoryMessage(){const{messages:e,offset:t}=this.sendHistory;return e[t-1]},goodMessageContent(){return!!this.webrtcState.chatState.forwardingMessages||!(this.newMessageText.length>this.maxMessageLength||0===this.newMessageText.trim().length)},placeholder(){return this.disabled?this.gettext("Chat is blocked"):this.gettext("Enter your message")},canSendMessage(){return!this.isSending&&(!this.disabled&&this.goodMessageContent)},messageLetterCounts(){return`${this.newMessageText.length}/${this.maxMessageLength}`},hintForDisabledButton(){return this.newMessageText.length>this.maxMessageLength?this.pgettext("An error message displayed when a chat message exceeds a certain number of characters","Maximum number of characters exceeded"):""},interactionType(){return this.webrtcState.chatState.interactionType},validFiles(){const e=this.filesErrors.map((e=>e.file));return this.sendingFiles.filter((t=>!e.includes(t)))},newMessageText:{get(){return this.webrtcState.chatState.newMessageText},set(e){i.A.chatState.newMessageText=e}},...(0,oe.aH)("chatManager",["selectedChat"])},data(){return{smilesAreAvailable:!1,filesUploadIsAvailable:!0,showSendingFilesModal:!1,showSendingFilesModalDropOverlay:!1,sendingMessageContent:"",isSending:!1,showSendingLoader:!1,sendingFiles:null,filesErrors:null,sendingFilesModalContainer:null,updateTextareaHeight:()=>{},tabPress:!1,newMessageTextareaOptions:{minLines:1,maxLines:5},maxMessageLength:4096,sendHistory:{messages:[],offset:0},webrtcState:i.A}},watch:{newMessageText(){window.requestAnimationFrame(this.updateTextareaHeight)},interactionType:{handler(e,t){"edit"===e&&(this.sendingMessageContent=this.newMessageText,this.newMessageText=(0,y.A)(Me())),"edit"!==e&&"reply"!==e||this.$refs.textarea.focus(),null===e&&"edit"===t&&(this.newMessageText=this.sendingMessageContent)},deep:!0},showSendingFilesModal(e){e||(this.sendingFiles=null)},sendingFiles(e){e&&(this.filesErrors=this.validateFiles(e))}}},Ue=(s(98457),(0,c.A)(je,ke,[],!1,null,null,null).exports),Ve=s(38391),Ge=s(4985),qe=s(21167),We=s(92683),Ye=s(63824),Ke=s(39860),Je=s(99761),Xe={name:"ChatComponent",components:{MessagesList:ve,MessageModifier:Ce,ChatMessageForm:Ue,FileDropOverlay:Be},props:{displayName:{type:String,default:null}},beforeDestroy(){this.exitCurrentChat(),this.$refs.chatSection.removeEventListener("dragenter",this.dragEnterHandler)},destroyed(){window.removeEventListener("keydown",this.globalKeyboardHandler),(0,n.a3)()},created(){(0,Ye.A)(this.selectedChat),this.updateSendMessagesAccess(),this.selectedChat.getParticipantList().then((e=>{i.A.allChats[this.selectedChat.getChatId()].sendMessagesAccess=!!e.size})),this.initScrollOffset=this.chatMeta.scrollPosition??null,(0,n.u$)()},mounted(){this.webrtcState.chatState.chatWasOpened=!0,window.addEventListener("keydown",this.globalKeyboardHandler),this.resetChat(),this.$refs.chatSection.addEventListener("dragenter",this.dragEnterHandler)},methods:{updateSendMessagesAccess(){this.selectedChat.getParticipantList().then((e=>{i.A.allChats[this.selectedChat.getChatId()].sendMessagesAccess=!!e.size}))},async sendMessage(e,t=void 0,s=void 0){let a=!1;const{forwardingMessages:i}=this.webrtcState.chatState;let o=!0;if(this.webrtcState.chatState.interactionType&&"multiselect"!==this.webrtcState.chatState.interactionType){const t=le()[0];switch(this.webrtcState.chatState.interactionType){case"reply":o=await(0,n._z)(e,le()[0],s),a=!0;break;case"edit":await t.edit({text:e})}(0,Q.A)()}else e&&(o=await(0,n._z)(e,void 0,s),a=!0);i&&(await this.forwardMessages(i.messages),(0,Q.A)(),a=!0),a&&this.$refs.messages.handleClickScrollBottomButton(),t?.(o)},async floodMessages(){Array.from({length:50}).forEach(((e,t)=>{this.sendMessage(`Fake ${t}`)}))},async resetChat(){const{messagesMeta:e=[],reachedTop:t=!1,scrollPosition:s}={...this.chatMeta,...this.webrtcState.chatState.enableScrollPreservation?{}:{messagesMeta:[],reachedTop:!1}};if(this.showInitialLoader=!0,await this.selectedChat.getChatPermissions(),this.showInitialLoader=!1,this.chatMeta,this.webrtcState.chatState.skipChatReseting&&0===this.unreadMessagesIds.length)return this.webrtcState.chatState.skipChatReseting=!1,void(this.webrtcState.chatState.messages.length&&this.$nextTick((()=>{s&&this.$refs.messages.scrollToOffset(s+1),setTimeout((()=>{this.checkMessagesAsRead()}),20)})));i.A.chatState.messages=[...e],0===e.length?(this.$refs.messages.scrollOnNextResize=!0,t||(this.showInitialLoader=!0,this.loadNextMessages())):this.$nextTick((()=>{const{messagesList:t}=this.$refs.messages.$refs;t&&(t.$el.querySelector(".tc-list__content").scrollHeight<t.getClientSize()?(this.onScroll({start:0,end:e.length-1}),this.webrtcState.chatState.enableMessagesUnload||this.initLoad(0,e.length-1,!0)):void 0===s?this.$refs.messages.scrollToBottom():(this.skipInitReadCheck=!0,this.$refs.messages.scrollToOffset(s+1),setTimeout((()=>{this.skipInitReadCheck=!1,this.checkMessagesAsRead()}),20)))}))},async loadNextMessages(e=!1){const t=this.webrtcState.chatState.messages,s=this.$refs.messages.messagesToRender.length;let a=(e?t.slice(-1)[0]:t[0])?.getId();this.unreadMessagesIds.length&&!a&&([i.A.chatState.highlightMessageId]=this.unreadMessagesIds),this.unreadMessagesIds.length>=20&&(a=a??this.unreadMessagesIds[18]),t.find((e=>e.getId()===a))?.renderMessage?.getText?.();let n=!1;if(e&&void 0===a)throw new Error("Invalid behavior. No message id on scrolling down");const o=e?"push":"unshift";let r=await this.fetchMessages({messageId:a,direction:e?"forward":"backward",count:20});for(const[e,t]of r.entries())if(await(0,pe.A)(t),this.webrtcState.chatState.nonDetachedMessages?.find((e=>e.getId()===t.getId()))){n=!0,r=r.slice(0,e);break}r.map((e=>e.renderMessage?.getText?.())),i.A.chatState.messages[o](...r),this.unreadMessagesIds.length||this.updateChatLastSeenMessage(),e||this.setReachedTop(r.length<20),n&&this.$refs.messages.exitDetachedMessagesState(!0),this.updateDebugCanvas(),e?this.$refs.messages.isNextMessagesLoadingBottom=!1:this.$refs.messages.isNextMessagesLoading=!1,this.showInitialLoader=!1,setTimeout((()=>{if(!this.webrtcState.chatState.enableScrollPreservation&&this.$refs.messages.$refs.messagesList&&this.checkMessagesAsRead(),void 0===a||n)return;(e?this.$refs.messages.getIsScrolledToBottom():this.$refs.messages.getIsScrolledToTop())&&(a=this.$refs.messages.messagesToRender[this.$refs.messages.messagesToRender.length-s]?.getId(),this.$refs.messages.scrollToLoadedMessageById(a))}))},loadNextMessagesSafe(e){this.showInitialLoader||this.loadNextMessages(e)},setReachedTop(e){i.A.allChats[this.selectedChatId].reachedTop=e,i.A.allChats={...i.A.allChats}},updateChatLastSeenMessage(){(0,We.A)(!0,this.selectedChatId)},rangeToArray(e){return[e.start,e.end]},smartCleanupAndLoadRange(e,t){const s=e=>[e.start,e.end],a=t.start>=e.start,n=(()=>{if(e.start>=t.end||t.start>=e.end)return null;const s=Math.max(e.start,t.start),a=Math.min(e.end,t.end);return a-s<=0?null:[s,a]})();return[null===n?s(e):a?[e.start,n[0]]:[e.end,n[1]],null===n?s(t):a?[n[1],t.end]:[t.start,n[0]]].map((e=>(e=>{if(e[0]>e[1]){const t=e[1];e[1]=e[0],e[0]=t}return e})(e)))},onScroll(e){if(this.checkMessagesAsRead(),!this.webrtcState.chatState.enableMessagesUnload)return;this.webrtcState.chatState.nonDetachedMessages&&(e.end-=1);const t=Je.pick(e,["start","end"]);if(Je.isEqual(t,this.previousMessagesListRange))return;const s=[];if(this.previousMessagesListRange)for(let e=0;e<this.messages.length;e++){const a=this.webrtcState.chatState.messages[e];if(e>=t.start&&e<=t.end||a.empty)continue;s.push(e);const n=a.getId();if(this.webrtcState.chatState.selectedMessages.includes(n))continue;const i={empty:!0,getId(){return n},key:a.key};this.webrtcState.chatState.messages.splice(e,1,{...i,status:"unloaded"})}this.updateDebugCanvas(),this.initLoad(t.start,t.end,t.start<=this.previousMessagesListRange?.start),this.previousMessagesListRange=t},async initLoad(e,t,s){let a,n;for(let i=e;i<=t;i++){const e=this.webrtcState.chatState.messages[i];e.empty&&(e.status="loading",s?(a=i,void 0===n&&(n=i)):(n=i,void 0===a&&(a=i)))}if(void 0===a)return;if(void 0===n)throw new Error("Unreachable. No stop index");console.warn("Init loading",a,"-",n,s);const i=this.selectedChat.getMessageHandler(),o=s?-1:1;let r;for(let e=a;s?e>=n:e<=n;e+=o){this.updateDebugCanvas();const t=this.webrtcState.chatState.messages[e];let a;if(r)a=(await r.next()).value;else{if(a=await i.getMessageById(t.getId()),!a){(0,Ke.A)(e,!0),e-=o;continue}r=i[s?"createBackwardMessageIterator":"createForwardMessageIterator"](a.getId())}if(!a){this.removeAllMessages(e,s),s&&this.setReachedTop(!0);break}"loading"===t?.status&&(await(0,pe.A)(a),this.webrtcState.chatState.messages.splice(e,1,a),this.updateSharedMessagesAuthors())}this.updateDebugCanvas()},updateDebugCanvas(){},checkMessagesAsRead:Je.throttle((function(){if(this.skipInitReadCheck)return;const{messagesList:e}=this.$refs.messages.$refs,t=e.$el.querySelector(".tc-list__content"),s=e.$el.querySelector(".tc-list").scrollTop+e.getClientSize()-50,a=e=>e.children[0]?.dataset?.id;let n,o;for(const e of t.children)if(void 0!==a(e)&&(o=e,n=e.offsetTop+t.parentNode.offsetHeight-50<=s?e:n),e.offsetTop>s)break;if(!o)return;const r=a(o),l=n&&(!(c=n).previousElementSibling||"date-label-wrapper"!==c.previousElementSibling.children[0]?.className||c.getBoundingClientRect().top<70?c.children[0]?.dataset?.dateLabel:null);var c;i.A.allChats[this.selectedChatId].dateLabel=l===r?null:l;if(this.webrtcState.chatState.stubUploadedFiles.find((e=>e.getId()===r))&&i.A.allChats[this.selectedChatId].unreadMessagesIds.length)return i.A.allChats[this.selectedChatId].unreadMessagesIds.splice(0,i.A.allChats[this.selectedChatId].unreadMessagesIds.length),void this.$refs.messages.scrollToBottom();const d=this.webrtcState.allChats[this.selectedChatId].unreadMessagesIds.indexOf(r);-1!==d&&i.A.allChats[this.selectedChatId].unreadMessagesIds.splice(0,d+1)}),150),removeAllMessages(e,t){const{messages:s}=this.webrtcState.chatState;i.A.chatState.messages=t?s.slice(e):s.slice(0,e)},globalKeyboardHandler({code:e,metaKey:t,key:s}){"Escape"===e&&["forward","multiselect"].includes(this.webrtcState.chatState.interactionType)&&(0,Q.A)(),["input","textarea"].includes(document.activeElement.tagName.toLowerCase())||"multiselect"===this.webrtcState.chatState.interactionType&&("Delete"===s||t&&"Backspace"===e)&&(i.A.chatState.deleteModalOpen=!0)},initChat(e){(0,Ye.A)(e)},updateSharedMessagesAuthors(){if(!this.messages)return;const e=e=>{const t={current:this.messages[e],previous:this.messages[e-1]};if(!t.previous||(0,be.A)(t.previous)||t.previous.empty||![t.current,t.previous].some((e=>!e.renderMessage)))return!1;return t.current.getAuthor().getId()===t.previous.getAuthor().getId()};for(const[t,s]of this.messages.entries())s.empty||(s.sameAuthor=e(t))},exitCurrentChat(){if(!this.webrtcState.allChats[this.selectedChatId])return;const e=this.$refs.messages.currentScrollPosition,t=i.A.allChats[this.selectedChatId];void 0!==e&&t&&(t.scrollPosition=e),this.webrtcState.allChats[this.selectedChatId].messagesMeta=this.webrtcState.chatState.messages.map((e=>({key:e.getId(),getId:()=>e.getId(),height:e.height,empty:!0}))),i.A.chatState.detachedMessages=null},dragEnterHandler(e){this.canSendFile&&(e.target.className.includes("tc-list")||e.target.className.includes("message"))&&(this.showChatAreaDropOverlay=!0)},...(0,oe.i0)("chatManager",["forwardMessages","fetchMessages"])},computed:{chatIsDisabled(){return!!(0,qe.A)(this.selectedChat)&&(!this.permissionsState.canSendChatMessages||(0,Ge.A)("chat"))},canSendFile(){return this.permissionsState.canSendFile},unreadMessagesIds(){return this.webrtcState.allChats[this.selectedChat.getChatId()].unreadMessagesIds},showInteraction(){return this.interactionType&&"single-remove"!==this.interactionType||this.webrtcState.chatState.forwardingMessages},interactionType(){return this.webrtcState.chatState.interactionType},messages(){return this.showInitialLoader?null:this.webrtcState.chatState.messages},chatMeta(){return this.webrtcState.allChats[this.selectedChatId]},...(0,oe.aH)("chatManager",["selectedChat"]),...(0,oe.L8)("chatManager",["selectedChatId"])},data:()=>({showChatAreaDropOverlay:!1,showInitialLoader:!1,webrtcState:i.A,permissionsState:Ve.A,haveNoRightsFor:Ge.A,previousMessagesListRange:null,DEVELOPMENT:!1,initScrollOffset:null,skipInitReadCheck:!1}),watch:{messages:{handler(e,t){if(!t||!this.previousMessagesListRange)return;const s=e.length-t.length;s&&(this.previousMessagesListRange.start+=s,this.previousMessagesListRange.end+=s)},deep:!0},"messages.length":function(){this.updateSharedMessagesAuthors()},selectedChatId(){(0,Ye.A)(this.selectedChat),this.updateSendMessagesAccess(),this.initScrollOffset=null,this.exitCurrentChat(),this.resetChat()}}},Qe=Xe,et=(s(60860),(0,c.A)(Qe,a,[],!1,null,null,null).exports)},67016:function(e,t,s){"use strict";s.d(t,{A:function(){return i}});var a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"search"},[t("icon",{staticClass:"search__icon",attrs:{name:"search"}}),e._v(" "),t("input",{ref:"input",staticClass:"search__input",attrs:{type:"text",placeholder:e.gettext("Search..."),spellcheck:"false"},domProps:{value:e.value},on:{mousedown:function(e){e.stopPropagation()},input:function(t){return e.$emit("input",t.target.value)}}})],1)};a._withStripped=!0;var n={name:"SearchComponent",components:{Icon:s(76508).A},props:{value:{type:String,default:""}},mounted(){this.platform.desktop&&this.$refs.input.focus()}},i=(s(56397),(0,s(14486).A)(n,a,[],!1,null,null,null).exports)},9032:function(e,t,s){"use strict";s.d(t,{A:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("header",{staticClass:"conference-chat-header conference-card-header conference-card-header--reset-padding",class:{"mobile-header":e.isMobile}},[t("div",{staticClass:"conference-card-header__buttons one-line"},[t("button",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"},{name:"show",rawName:"v-show",value:e.hasPersonalChats,expression:"hasPersonalChats"}],staticClass:"conference-card-header__button chat-badge-wrap ripple-container",class:{"mobile-header__button":e.isMobile},attrs:{type:"button"},on:{click:e.switchSelectedChat}},[t("icon",{attrs:{name:"arrow_back"}}),e._v(" "),t("badge-with-number",{staticClass:"chat-badge-wrap__value",attrs:{number:e.unreadMessagesNumber}})],1),e._v(" "),t("p",{staticClass:"one-line chat-name-without-button",class:{"chat-name-without-button":!e.hasPersonalChats,"mobile-header__title":e.isMobile},attrs:{title:e.selectedChat?e.displayName:e.gettext("Loading...")}},[e._v("\n      "+e._s(e.selectedChat?e.displayName:e.gettext("Loading..."))+"\n    ")])]),e._v(" "),t("div",{staticClass:"conference-card-header__buttons conference-card-header__buttons--no-wrap"},[t("TcContextMenu",{ref:"menu",staticClass:"conference-card-header__context-menu",attrs:{list:e.menuItems},on:{select:e.handleMenuAccept}},[e.isGroupChat?t("button",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"conference-card-header__button chat-badge-wrap ripple-container",class:{"mobile-header__button":e.isMobile},attrs:{type:"button"},on:{click:e.openMenu}},[t("icon",{attrs:{fontFamily:"Material Icons",name:"more_vert"}})],1):e._e(),e._v(" "),t("button",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"conference-card-header__button chat-badge-wrap ripple-container",class:{"mobile-header__button":e.isMobile},attrs:{type:"button"},on:{click:e.toggleChat}},[t("icon",{attrs:{name:"close"}})],1)])],1)])};a._withStripped=!0;var n=s(76508),i=s(26665),o=s(50429),r=s(96443),l=s(95353),c=s(81516),d=s(99761),h={name:"ConferenceChatHeader",components:{Icon:n.A,BadgeWithNumber:i.A},mixins:[r.A],props:{isMobile:{type:Boolean,default:!1},displayName:{type:String,default:null}},methods:{switchSelectedChat(){const{params:e,query:t}=this.$route;this.webrtcState.chatState.newMessageText="",(0,c.A)();const s=d.clone(t);s.chatSelect=!0,this.$router.replace({name:"conference",params:e,query:s})},handleMenuAccept({value:e}){e===this.toggleSystemMessagesOption&&(localStorage.setItem("trueconf#showSystemMessages",!this.webrtcState.chatState.showAllSystemMessages),o.A.chatState.showAllSystemMessages=!this.webrtcState.chatState.showAllSystemMessages)},openMenu(){this.menuItems.find((e=>e.value===this.toggleSystemMessagesOption)).text=this.webrtcState.chatState.showAllSystemMessages?this.pgettext("An option in the context menu. This option disables the display of additional notifications about user actions like joining or leaving the conference. The information about these events will not be displayed in the conference chat history.","Don’t show conference events"):this.pgettext("An option in the context menu. This option enables the display of additional notifications about user actions like adding to the conference.","Show conference events"),this.$refs.menu.open()}},computed:{chatState(){return this.webrtcState.chatState},isGroupChat(){return this.selectedChat.isGroupChat()},unreadMessagesNumber(){return Object.entries(this.webrtcState.allChats).reduce(((e,[t,{unreadMessagesIds:s}])=>e+(t===this.selectedChat.getChatId()?0:s.length)),0)},hasPersonalChats(){return!0},...(0,l.aH)("chatManager",["selectedChat"])},data:()=>{const e="toggle_system_messages";return{webrtcState:o.A,toggleSystemMessagesOption:e,menuItems:[{type:"element",value:e,text:""}]}}},m=(s(22561),(0,s(14486).A)(h,a,[],!1,null,null,null).exports)},1310:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var a=function(){var e=this._self._c;return this.showChatSelect?e("ChatSelect",{tag:"section"}):e("Chat",{tag:"section"})};a._withStripped=!0;var n=s(50429),i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"conference-card-layout"},[t("chat-header",{staticClass:"conference-card-layout__header",attrs:{displayName:e.chatNameSource.displayName}}),e._v(" "),t("chat",{staticClass:"conference-card-layout__content",attrs:{displayName:e.chatNameSource.displayName}})],1)};i._withStripped=!0;var o=s(35872),r=s(9032),l=s(95353),c=s(86296),d=s(57574),h=s(68669),m={name:"ConferenceChat",components:{Chat:o.A,ChatHeader:r.A},computed:{...(0,l.aH)("chatManager",["selectedChat"])},data:()=>({chatNameSource:{displayName:null}}),watch:{selectedChat:{handler(){this.chatNameSource.displayName=(0,c.A)(this.selectedChat),this.selectedChat.isP2PChat()&&this.selectedChat.getParticipantList().then((e=>{let t=(0,d.A)(!0);for(const s of e.keys())s!==(0,d.A)(!0)&&(t=s);(0,h.A)(t,this.chatNameSource)}))},immediate:!0}}},g=s(14486),u=(0,g.A)(m,i,[],!1,null,null,null).exports,p=function(){var e=this._self._c;return e("section",{staticClass:"conference-card-layout"},[e("chat-select-header",{staticClass:"conference-card-layout__header"}),this._v(" "),e("chat-select",{staticClass:"conference-card-layout__content"})],1)};p._withStripped=!0;var f=s(19916),b=function(){var e=this,t=e._self._c;return t("header",{staticClass:"conference-card-header conference-card-header--reset-padding"},[t("p",{staticClass:"chat-name-without-button"},[e._v("\n    "+e._s(e.gettext("Chats"))+"\n  ")]),e._v(" "),t("button",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"conference-card-header__button ripple-container",attrs:{type:"button",title:e.pgettext("Hint","Close")},on:{click:e.toggleChat}},[t("icon",{attrs:{name:"close"}})],1)])};b._withStripped=!0;var x=s(76508),_=s(96443),w={name:"ConferenceChatSelectHeader",components:{Icon:x.A},mixins:[_.A],data:()=>({webrtcState:n.A})},v=(0,g.A)(w,b,[],!1,null,null,null).exports,y={name:"ConferenceChatSelect",components:{ChatSelect:f.A,ChatSelectHeader:v}},M=(0,g.A)(y,p,[],!1,null,null,null).exports,S=s(15948),C=s(21167),k={name:"ConferenceChats",components:{Chat:u,ChatSelect:M},mixins:[_.A],computed:{showChatSelect(){return this.$route.query.chatSelect}},data:()=>({webrtcState:n.A,waitingRoomState:S.A}),watch:{"waitingRoomState.meInWaitingRoom":{handler(e){const{params:t,query:s}=this.$route;e&&s.chat&&this.selectedChat&&(0,C.A)(this.selectedChat)&&this.$router.replace({name:"conference",params:t,query:{...s,chatSelect:!0}})},immediate:!0}}},A=(s(95005),(0,g.A)(k,a,[],!1,null,null,null).exports)},73674:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"mobile-layout"},[t("ChatHeader",{staticClass:"conference-card-layout__header",attrs:{isMobile:""}}),e._v(" "),t("chat",{staticClass:"mobile-layout__content"}),e._v(" "),e.contextMenuIsOpen?t("context-menu"):e._e()],1)};a._withStripped=!0;var n=s(18290),i=s(35872),o=s(34818),r=s(99761);function l({to:e}={}){if(n.A.deviceStance.isMobile)return Promise.resolve();const{currentRoute:t}=o.A,{params:s,query:a}=e||t,i=r.clone(a);return i.chat=!0,i.chatSelect=!1,o.A.replace({name:"conference",params:s,query:i}),Promise.reject().catch((()=>{}))}var c=s(43922),d=s(76418),h=s(9032),m=s(99761),g={name:"MobileChat",components:{Chat:i.A,ChatHeader:h.A},mixins:[c.A,(0,d.A)("audio")],beforeRouteEnter(e,t,s){console.warn("mobile-chat beforeRouteEnter"),l({to:e,from:t,next:s}).then(s)},beforeRouteUpdate(e,t,s){console.warn("mobile-chat beforeRouteUpdate"),l({to:e,from:t,next:s}).then(s)},methods:{close(){const{params:e,query:t}=this.$route,s=m.clone(t);s.chat=!1,s.participants=!1,this.$router.replace({name:"conference",params:e,query:s})},startSelect(){const{params:e,query:t}=this.$route,s=m.clone(t);s.chat=!0,s.chatSelect=!0,this.$router.replace({name:"mobile-chat-select",params:e,query:s})}},data:()=>({deviceStance:n.A.deviceStance}),watch:{"deviceStance.isMobile":l}},u=(0,s(14486).A)(g,a,[],!1,null,null,null).exports},7914:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"mobile-layout"},[t("chat-header",{staticClass:"mobile-layout__header",on:{close:e.toggleChat}}),e._v(" "),t("chat-select",{staticClass:"mobile-layout__content"})],1)};a._withStripped=!0;var n=s(18290),i=s(19916),o=function(){var e=this,t=e._self._c;return t("header",{staticClass:"mobile-header"},[t("p",{staticClass:"mobile-header__title one-line"},[e._v("\n    "+e._s(e.gettext("Chats"))+"\n  ")]),e._v(" "),t("button",{directives:[{name:"pointer-auto-blur",rawName:"v-pointer-auto-blur"}],staticClass:"mobile-header__button mobile-header__button--right ripple-container",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[t("icon",{attrs:{name:"close"}})],1)])};o._withStripped=!0;var r=s(76508),l=s(56342),c={name:"MobileChatSelectHeader",components:{Icon:r.A},data:()=>({webrtcState:l.wk})},d=(s(44216),s(14486)),h=(0,d.A)(c,o,[],!1,null,null,null).exports,m=s(34818),g=s(99761);function u({to:e}={}){if(n.A.deviceStance.isMobile)return Promise.resolve();const{currentRoute:t}=m.A,{params:s,query:a}=e||t,i=g.clone(a);return i.chat=!0,i.chatSelect=!0,m.A.replace({name:"conference",params:s,query:i}),Promise.reject().catch((()=>{}))}var p=s(76418),f=s(96443),b=s(99761),x={name:"MobileChatSelect",components:{ChatHeader:h,ChatSelect:i.A},mixins:[(0,p.A)("audio"),f.A],beforeRouteEnter(e,t,s){u({to:e,from:t,next:s}).then(s)},beforeRouteUpdate(e,t,s){u({to:e,from:t,next:s}).then(s)},methods:{backToChat(){const{params:e,query:t}=this.$route,s=b.clone(t);s.chat=!0,s.chatSelect=!1,this.$router.replace({name:"mobile-chat",params:e,query:s})}},data:()=>({deviceStance:n.A.deviceStance}),watch:{"deviceStance.isMobile":u}},_=(0,d.A)(x,a,[],!1,null,null,null).exports},26665:function(e,t,s){"use strict";s.d(t,{A:function(){return i}});var a=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"pulse-animation"}},[e.number>0?t("div",{staticClass:"badge-with-number"},[e._v("\n    "+e._s(e.numberMax9)+"\n  ")]):e._e()])};a._withStripped=!0;var n={name:"badge-with-number",props:{number:{type:Number,default:0}},computed:{numberMax9(){return this.number>9?"9+":this.number}}},i=(s(29739),(0,s(14486).A)(n,a,[],!1,null,null,null).exports)},83872:function(e,t,s){var a=s(39399);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("e1ebcef4",a,!1,{})},63902:function(e,t,s){var a=s(75841);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("3f446e56",a,!1,{})},27875:function(e,t,s){var a=s(40022);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("a738242e",a,!1,{})},10124:function(e,t,s){var a=s(17871);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("276140f0",a,!1,{})},51810:function(e,t,s){var a=s(61003);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("56904143",a,!1,{})},20753:function(e,t,s){var a=s(31328);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("33e19180",a,!1,{})},98457:function(e,t,s){var a=s(72961);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("1df96e78",a,!1,{})},14890:function(e,t,s){var a=s(46165);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("c95413e8",a,!1,{})},87911:function(e,t,s){var a=s(68464);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("0294036c",a,!1,{})},71231:function(e,t,s){var a=s(57612);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("384075b2",a,!1,{})},84600:function(e,t,s){var a=s(40655);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("6f1debe4",a,!1,{})},66011:function(e,t,s){var a=s(16826);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("5533f5fa",a,!1,{})},58928:function(e,t,s){var a=s(98515);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("467f8be1",a,!1,{})},60566:function(e,t,s){var a=s(60099);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("50446380",a,!1,{})},47190:function(e,t,s){var a=s(72027);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("1858bdb2",a,!1,{})},56574:function(e,t,s){var a=s(67271);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("be9074bc",a,!1,{})},60860:function(e,t,s){var a=s(51239);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("b175a0a4",a,!1,{})},56397:function(e,t,s){var a=s(71910);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("2302ae16",a,!1,{})},22561:function(e,t,s){var a=s(822);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("f326bb68",a,!1,{})},95005:function(e,t,s){var a=s(85886);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("55d14ae2",a,!1,{})},44216:function(e,t,s){var a=s(991);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("3ae584eb",a,!1,{})},29739:function(e,t,s){var a=s(21014);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("98791a2e",a,!1,{})},28117:function(e,t,s){var a=s(25962);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(70534).A)("e739a130",a,!1,{})}}]);