function showWidget(elem, url) {
  elem.innerHTML = '<div><span class="video-container"><iframe src="https://www.youtube.com/embed/' + url + 
  '" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></span></div>';
}

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  //Get the button
  var mybutton = document.getElementById("myBtn");
  if (mybutton !== null){
    if (document.body.scrollTop > 60 || document.documentElement.scrollTop > 60) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
}

function sleepSetTitle() {
  var elTitle = document.getElementById('new-title');
  // let elNewImage = document.createElement('img');

  if(elTitle){
    const elTitleOld = document.getElementById('old-title');
    elTitle.innerHTML = '<span class="site-name">TrueConf</span>';
    if (window.location.href.includes('/en/')){
      elTitle.setAttribute('href', 'https://trueconf.com/docs/main/en/');
      elTitle.style.backgroundImage = "url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTUgMTMyIj48ZyBpZD0i0KHQu9C+0LlfMiIgZGF0YS1uYW1lPSLQodC70L7QuSAyIj48ZyBpZD0i0KHQu9C+0LlfMS0yIiBkYXRhLW5hbWU9ItCh0LvQvtC5IDEiPjxwYXRoIGQ9Ik0yNzcsNDR2NTcuMjdhNi42NSw2LjY1LDAsMCwxLTUuNjQsNi42N0E2LjUxLDYuNTEsMCwwLDEsMjY0LDEwMS41VjQ0YTEsMSwwLDAsMC0xLTFIMjUyYTEsMSwwLDAsMC0xLDF2NTdjMCwxMC41OCw4LjIyLDE5LjU4LDE4Ljc5LDIwQTE5LjUsMTkuNSwwLDAsMCwyOTAsMTAxLjVWNDRhMSwxLDAsMCwwLTEtMUgyNzhBMSwxLDAsMCwwLDI3Nyw0NFoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMjIzLDExSDE3OWExLDEsMCwwLDAtMSwxVjIyYTEsMSwwLDAsMCwxLDFoMTUuNXY5N2ExLDEsMCwwLDAsMSwxaDExYTEsMSwwLDAsMCwxLTFWMjNIMjIzYTEsMSwwLDAsMCwxLTFWMTJBMSwxLDAsMCwwLDIyMywxMVoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMzg0LDUxVjMxYzAtMTAuNTgtOC4yMi0xOS41OC0xOC43OS0yMEExOS41LDE5LjUsMCwwLDAsMzQ1LDMwLjVWMTAxYzAsMTAuNTgsOC4yMiwxOS41OCwxOC43OSwyMEExOS41LDE5LjUsMCwwLDAsMzg0LDEwMS41VjgzYTEsMSwwLDAsMC0xLTFIMzcyYTEsMSwwLDAsMC0xLDF2MTguMjdhNi42NSw2LjY1LDAsMCwxLTUuNjQsNi42N0E2LjUxLDYuNTEsMCwwLDEsMzU4LDEwMS41VjMwLjczYTYuNjUsNi42NSwwLDAsMSw1LjY0LTYuNjdBNi41MSw2LjUxLDAsMCwxLDM3MSwzMC41VjUxYTEsMSwwLDAsMCwxLDFoMTFBMSwxLDAsMCwwLDM4NCw1MVoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMjM4LjUsNDNBMTkuNSwxOS41LDAsMCwwLDIxOSw2Mi41VjEyMGExLDEsMCwwLDAsMSwxaDExYTEsMSwwLDAsMCwxLTFWNjIuNWE2LjUyLDYuNTIsMCwwLDEsNi41LTYuNUgyNDRhMSwxLDAsMCwwLDEtMVY0NGExLDEsMCwwLDAtMS0xWiIgc3R5bGU9ImZpbGw6IzAwOTdhNyIvPjxwYXRoIGQ9Ik0zMTYuNzksNDNDMzA2LjIyLDQzLjM5LDI5OCw1Mi4zOSwyOTgsNjNWMTAxYzAsMTAuNTgsOC4yMiwxOS41OCwxOC43OSwyMEExOS41LDE5LjUsMCwwLDAsMzM3LDEwMS41Vjk5YTEsMSwwLDAsMC0xLTFIMzI1YTEsMSwwLDAsMC0xLDF2Mi4yN2E2LjY1LDYuNjUsMCwwLDEtNS42NCw2LjY3QTYuNTEsNi41MSwwLDAsMSwzMTEsMTAxLjVWOTFoMjVhMSwxLDAsMCwwLDEtMVY2Mi41QTE5LjUsMTkuNSwwLDAsMCwzMTYuNzksNDNaTTMxMSw3OFY2Mi41YTYuNSw2LjUsMCwwLDEsMTMsMFY3OFoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNNDEwLjUsNDIuOTJBMTkuNSwxOS41LDAsMCwwLDM5MSw2Mi40MnYzOWExOS41LDE5LjUsMCwxLDAsMzksMHYtMzlBMTkuNSwxOS41LDAsMCwwLDQxMC41LDQyLjkyWm0wLDY1YTYuNTEsNi41MSwwLDAsMS02LjUtNi41di0zOWE2LjUsNi41LDAsMCwxLDEzLDB2MzlBNi41MSw2LjUxLDAsMCwxLDQxMC41LDEwNy45MloiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNNDU3LjUsNDNINDM5YTEsMSwwLDAsMC0xLDF2NzZhMSwxLDAsMCwwLDEsMWgxMWExLDEsMCwwLDAsMS0xVjU2aDYuNWE2LjUzLDYuNTMsMCwwLDEsNi41LDYuNVYxMjBhMSwxLDAsMCwwLDEsMWgxMWExLDEsMCwwLDAsMS0xVjYyLjVBMTkuNSwxOS41LDAsMCwwLDQ1Ny41LDQzWiIgc3R5bGU9ImZpbGw6IzAwOTdhNyIvPjxwYXRoIGQ9Ik01MDguNSwyNEg1MTRhMSwxLDAsMCwwLDEtMVYxMmExLDEsMCwwLDAtMS0xaC01LjVBMTkuNSwxOS41LDAsMCwwLDQ4OSwzMC41VjQzaC01YTEsMSwwLDAsMC0xLDFWNTVhMSwxLDAsMCwwLDEsMWg1djY0YTEsMSwwLDAsMCwxLDFoMTFhMSwxLDAsMCwwLDEtMVY1Nmg5YTEsMSwwLDAsMCwxLTFWNDRhMSwxLDAsMCwwLTEtMWgtOVYzMC41QTYuNTIsNi41MiwwLDAsMSw1MDguNSwyNFoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMTUwLjI3LDY1LjcyLDEzNS4zOCw1NGMyLjU5LTcuMTIsNy4zNy0yMy41LDEtMzMuMjItMi4xNy0zLjMtNi41OC03LjIyLTE1LjI0LTcuMjJzLTEzLjE5LDQtMTUuMzcsNy4yN2MtNi40MSw5Ljc4LTEuNDksMjYuMiwxLjEzLDMzLjI3TDEwMi4yNCw1OGwtMTEtOGMzLjItOC40Myw5Ljg1LTI5LjQ1LDItNDEuMzZDOTAuODMsNC44Nyw4NS44NC40Miw3NiwuNDJTNjEuMTcsNC44Nyw1OC43Miw4LjYxYy03LjgxLDExLjkxLTEuMTYsMzIuOTMsMiw0MS4zNmwtMTEsOC00LjYyLTMuODNjMi42Mi03LjA3LDcuNTQtMjMuNDksMS4xMy0zMy4yNy0yLjE4LTMuMzItNi42MS03LjI3LTE1LjM3LTcuMjdzLTEzLjA3LDMuOTItMTUuMjQsNy4yMkM5LjI1LDMwLjU0LDE0LDQ2LjkyLDE2LjYyLDU0TDEuNzMsNjUuNzJBNC40OSw0LjQ5LDAsMCwwLC4xLDcwLjJhNzcuNjIsNzcuNjIsMCwwLDAsMTUxLjgsMEE0LjQ5LDQuNDksMCwwLDAsMTUwLjI3LDY1LjcyWk05LjU1LDcxbDE1LjI3LTEyYTQuNTIsNC41MiwwLDAsMCwxLjM2LTUuMzJjLTMuMjYtNy42NC02Ljk1LTIyLTMtMjgsLjUyLS43OCwyLjA5LTMuMTYsNy43Mi0zLjE2czcuMzEsMi40MSw3LjgzLDMuMmMzLjk0LDYsLjE3LDIwLjMxLTMuMTIsMjcuOTJBNC40OSw0LjQ5LDAsMCwwLDM2Ljg3LDU5bDUuMzcsNC40NS01LjQ0LDRBNC41MSw0LjUxLDAsMCwwLDM1LDcxdjM3Ljc4QTY4LjQ5LDY4LjQ5LDAsMCwxLDkuNTUsNzFaTTQ0LDExNC41NFY3My4zNEw2OC45LDU1LjE5YTQuNSw0LjUsMCwwLDAsMS40OS01LjQzYy0yLjg4LTYuNjUtOS44MS0yNy41Ni00LjEzLTM2LjIxLDEuODItMi43OCw1LTQuMTIsOS43NC00LjEyczcuOTIsMS4zNCw5Ljc0LDQuMTJjNS42OCw4LjY1LTEuMjUsMjkuNTYtNC4xMywzNi4yMWE0LjUsNC41LDAsMCwwLDEuNDksNS40M0wxMDgsNzMuMzR2NDEuMmE2Ny45NCw2Ny45NCwwLDAsMS02NC4wOCwwWm03My4wOS01LjcyVjcxYTQuNTEsNC41MSwwLDAsMC0xLjg1LTMuNjRsLTUuNDQtNEwxMTUuMTMsNTlhNC40OSw0LjQ5LDAsMCwwLDEuMjYtNS4yNmMtMi4yMi01LjEtNy41NS0yMS4xNy0zLjEyLTI3LjkyLjUyLS43OSwyLjEtMy4yLDcuODMtMy4yczcuMiwyLjM4LDcuNzIsMy4xNmM0LDYsLjI2LDIwLjM0LTMsMjhhNC41Miw0LjUyLDAsMCwwLDEuMzYsNS4zMmwxNS4yNywxMkE2OC40OSw2OC40OSwwLDAsMSwxMTcuMDUsMTA4LjgyWiIgc3R5bGU9ImZpbGw6IzAwOTdhNyIvPjxyZWN0IHdpZHRoPSIxNTIiIGhlaWdodD0iMTMyIiBzdHlsZT0iZmlsbDpub25lIi8+PC9nPjwvZz48L3N2Zz4=)";;
    }
    else if (window.location.href.includes('/es/')){
      elTitle.setAttribute('href', 'https://trueconf.com/docs/main/es/');
      elTitle.style.backgroundImage = "url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTUgMTMyIj48ZyBpZD0i0KHQu9C+0LlfMiIgZGF0YS1uYW1lPSLQodC70L7QuSAyIj48ZyBpZD0i0KHQu9C+0LlfMS0yIiBkYXRhLW5hbWU9ItCh0LvQvtC5IDEiPjxwYXRoIGQ9Ik0yNzcsNDR2NTcuMjdhNi42NSw2LjY1LDAsMCwxLTUuNjQsNi42N0E2LjUxLDYuNTEsMCwwLDEsMjY0LDEwMS41VjQ0YTEsMSwwLDAsMC0xLTFIMjUyYTEsMSwwLDAsMC0xLDF2NTdjMCwxMC41OCw4LjIyLDE5LjU4LDE4Ljc5LDIwQTE5LjUsMTkuNSwwLDAsMCwyOTAsMTAxLjVWNDRhMSwxLDAsMCwwLTEtMUgyNzhBMSwxLDAsMCwwLDI3Nyw0NFoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMjIzLDExSDE3OWExLDEsMCwwLDAtMSwxVjIyYTEsMSwwLDAsMCwxLDFoMTUuNXY5N2ExLDEsMCwwLDAsMSwxaDExYTEsMSwwLDAsMCwxLTFWMjNIMjIzYTEsMSwwLDAsMCwxLTFWMTJBMSwxLDAsMCwwLDIyMywxMVoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMzg0LDUxVjMxYzAtMTAuNTgtOC4yMi0xOS41OC0xOC43OS0yMEExOS41LDE5LjUsMCwwLDAsMzQ1LDMwLjVWMTAxYzAsMTAuNTgsOC4yMiwxOS41OCwxOC43OSwyMEExOS41LDE5LjUsMCwwLDAsMzg0LDEwMS41VjgzYTEsMSwwLDAsMC0xLTFIMzcyYTEsMSwwLDAsMC0xLDF2MTguMjdhNi42NSw2LjY1LDAsMCwxLTUuNjQsNi42N0E2LjUxLDYuNTEsMCwwLDEsMzU4LDEwMS41VjMwLjczYTYuNjUsNi42NSwwLDAsMSw1LjY0LTYuNjdBNi41MSw2LjUxLDAsMCwxLDM3MSwzMC41VjUxYTEsMSwwLDAsMCwxLDFoMTFBMSwxLDAsMCwwLDM4NCw1MVoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMjM4LjUsNDNBMTkuNSwxOS41LDAsMCwwLDIxOSw2Mi41VjEyMGExLDEsMCwwLDAsMSwxaDExYTEsMSwwLDAsMCwxLTFWNjIuNWE2LjUyLDYuNTIsMCwwLDEsNi41LTYuNUgyNDRhMSwxLDAsMCwwLDEtMVY0NGExLDEsMCwwLDAtMS0xWiIgc3R5bGU9ImZpbGw6IzAwOTdhNyIvPjxwYXRoIGQ9Ik0zMTYuNzksNDNDMzA2LjIyLDQzLjM5LDI5OCw1Mi4zOSwyOTgsNjNWMTAxYzAsMTAuNTgsOC4yMiwxOS41OCwxOC43OSwyMEExOS41LDE5LjUsMCwwLDAsMzM3LDEwMS41Vjk5YTEsMSwwLDAsMC0xLTFIMzI1YTEsMSwwLDAsMC0xLDF2Mi4yN2E2LjY1LDYuNjUsMCwwLDEtNS42NCw2LjY3QTYuNTEsNi41MSwwLDAsMSwzMTEsMTAxLjVWOTFoMjVhMSwxLDAsMCwwLDEtMVY2Mi41QTE5LjUsMTkuNSwwLDAsMCwzMTYuNzksNDNaTTMxMSw3OFY2Mi41YTYuNSw2LjUsMCwwLDEsMTMsMFY3OFoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNNDEwLjUsNDIuOTJBMTkuNSwxOS41LDAsMCwwLDM5MSw2Mi40MnYzOWExOS41LDE5LjUsMCwxLDAsMzksMHYtMzlBMTkuNSwxOS41LDAsMCwwLDQxMC41LDQyLjkyWm0wLDY1YTYuNTEsNi41MSwwLDAsMS02LjUtNi41di0zOWE2LjUsNi41LDAsMCwxLDEzLDB2MzlBNi41MSw2LjUxLDAsMCwxLDQxMC41LDEwNy45MloiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNNDU3LjUsNDNINDM5YTEsMSwwLDAsMC0xLDF2NzZhMSwxLDAsMCwwLDEsMWgxMWExLDEsMCwwLDAsMS0xVjU2aDYuNWE2LjUzLDYuNTMsMCwwLDEsNi41LDYuNVYxMjBhMSwxLDAsMCwwLDEsMWgxMWExLDEsMCwwLDAsMS0xVjYyLjVBMTkuNSwxOS41LDAsMCwwLDQ1Ny41LDQzWiIgc3R5bGU9ImZpbGw6IzAwOTdhNyIvPjxwYXRoIGQ9Ik01MDguNSwyNEg1MTRhMSwxLDAsMCwwLDEtMVYxMmExLDEsMCwwLDAtMS0xaC01LjVBMTkuNSwxOS41LDAsMCwwLDQ4OSwzMC41VjQzaC01YTEsMSwwLDAsMC0xLDFWNTVhMSwxLDAsMCwwLDEsMWg1djY0YTEsMSwwLDAsMCwxLDFoMTFhMSwxLDAsMCwwLDEtMVY1Nmg5YTEsMSwwLDAsMCwxLTFWNDRhMSwxLDAsMCwwLTEtMWgtOVYzMC41QTYuNTIsNi41MiwwLDAsMSw1MDguNSwyNFoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBkPSJNMTUwLjI3LDY1LjcyLDEzNS4zOCw1NGMyLjU5LTcuMTIsNy4zNy0yMy41LDEtMzMuMjItMi4xNy0zLjMtNi41OC03LjIyLTE1LjI0LTcuMjJzLTEzLjE5LDQtMTUuMzcsNy4yN2MtNi40MSw5Ljc4LTEuNDksMjYuMiwxLjEzLDMzLjI3TDEwMi4yNCw1OGwtMTEtOGMzLjItOC40Myw5Ljg1LTI5LjQ1LDItNDEuMzZDOTAuODMsNC44Nyw4NS44NC40Miw3NiwuNDJTNjEuMTcsNC44Nyw1OC43Miw4LjYxYy03LjgxLDExLjkxLTEuMTYsMzIuOTMsMiw0MS4zNmwtMTEsOC00LjYyLTMuODNjMi42Mi03LjA3LDcuNTQtMjMuNDksMS4xMy0zMy4yNy0yLjE4LTMuMzItNi42MS03LjI3LTE1LjM3LTcuMjdzLTEzLjA3LDMuOTItMTUuMjQsNy4yMkM5LjI1LDMwLjU0LDE0LDQ2LjkyLDE2LjYyLDU0TDEuNzMsNjUuNzJBNC40OSw0LjQ5LDAsMCwwLC4xLDcwLjJhNzcuNjIsNzcuNjIsMCwwLDAsMTUxLjgsMEE0LjQ5LDQuNDksMCwwLDAsMTUwLjI3LDY1LjcyWk05LjU1LDcxbDE1LjI3LTEyYTQuNTIsNC41MiwwLDAsMCwxLjM2LTUuMzJjLTMuMjYtNy42NC02Ljk1LTIyLTMtMjgsLjUyLS43OCwyLjA5LTMuMTYsNy43Mi0zLjE2czcuMzEsMi40MSw3LjgzLDMuMmMzLjk0LDYsLjE3LDIwLjMxLTMuMTIsMjcuOTJBNC40OSw0LjQ5LDAsMCwwLDM2Ljg3LDU5bDUuMzcsNC40NS01LjQ0LDRBNC41MSw0LjUxLDAsMCwwLDM1LDcxdjM3Ljc4QTY4LjQ5LDY4LjQ5LDAsMCwxLDkuNTUsNzFaTTQ0LDExNC41NFY3My4zNEw2OC45LDU1LjE5YTQuNSw0LjUsMCwwLDAsMS40OS01LjQzYy0yLjg4LTYuNjUtOS44MS0yNy41Ni00LjEzLTM2LjIxLDEuODItMi43OCw1LTQuMTIsOS43NC00LjEyczcuOTIsMS4zNCw5Ljc0LDQuMTJjNS42OCw4LjY1LTEuMjUsMjkuNTYtNC4xMywzNi4yMWE0LjUsNC41LDAsMCwwLDEuNDksNS40M0wxMDgsNzMuMzR2NDEuMmE2Ny45NCw2Ny45NCwwLDAsMS02NC4wOCwwWm03My4wOS01LjcyVjcxYTQuNTEsNC41MSwwLDAsMC0xLjg1LTMuNjRsLTUuNDQtNEwxMTUuMTMsNTlhNC40OSw0LjQ5LDAsMCwwLDEuMjYtNS4yNmMtMi4yMi01LjEtNy41NS0yMS4xNy0zLjEyLTI3LjkyLjUyLS43OSwyLjEtMy4yLDcuODMtMy4yczcuMiwyLjM4LDcuNzIsMy4xNmM0LDYsLjI2LDIwLjM0LTMsMjhhNC41Miw0LjUyLDAsMCwwLDEuMzYsNS4zMmwxNS4yNywxMkE2OC40OSw2OC40OSwwLDAsMSwxMTcuMDUsMTA4LjgyWiIgc3R5bGU9ImZpbGw6IzAwOTdhNyIvPjxyZWN0IHdpZHRoPSIxNTIiIGhlaWdodD0iMTMyIiBzdHlsZT0iZmlsbDpub25lIi8+PC9nPjwvZz48L3N2Zz4=)";
    }
    else{
      elTitle.setAttribute('href', 'https://trueconf.ru/docs/main/ru/');
      elTitle.style.backgroundImage = "url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MzIuNSAxMzIiPjxwYXRoIGQ9Ik0xNTAuMjcgNjUuNzIgMTM1LjM4IDU0YzIuNTktNy4xMiA3LjM3LTIzLjUgMS0zMy4yMi0yLjE3LTMuMy02LjU4LTcuMjItMTUuMjQtNy4yMnMtMTMuMTkgNC0xNS4zNyA3LjI3Yy02LjQxIDkuNzgtMS40OSAyNi4yIDEuMTMgMzMuMjdsLTQuNjYgMy45LTExLThjMy4yLTguNDMgOS44NS0yOS40NSAyLTQxLjM2QzkwLjgzIDQuODcgODUuODQuNDIgNzYgLjQyUzYxLjE3IDQuODcgNTguNzIgOC42MWMtNy44MSAxMS45MS0xLjE2IDMyLjkzIDIgNDEuMzZsLTExIDgtNC42Mi0zLjgzYzIuNjItNy4wNyA3LjU0LTIzLjQ5IDEuMTMtMzMuMjctMi4xOC0zLjMyLTYuNjEtNy4yNy0xNS4zNy03LjI3cy0xMy4wNyAzLjkyLTE1LjI0IDcuMjJjLTYuMzcgOS43Mi0xLjYyIDI2LjEgMSAzMy4xOEwxLjczIDY1LjcyQTQuNDkgNC40OSAwIDAgMCAuMSA3MC4yYTc3LjYyIDc3LjYyIDAgMCAwIDE1MS44IDAgNC40OSA0LjQ5IDAgMCAwLTEuNjMtNC40OFpNOS41NSA3MWwxNS4yNy0xMmE0LjUyIDQuNTIgMCAwIDAgMS4zNi01LjMyYy0zLjI2LTcuNjQtNi45NS0yMi0zLTI4IC41Mi0uNzggMi4wOS0zLjE2IDcuNzItMy4xNnM3LjMxIDIuNDEgNy44MyAzLjJjMy45NCA2IC4xNyAyMC4zMS0zLjEyIDI3LjkyQTQuNDkgNC40OSAwIDAgMCAzNi44NyA1OWw1LjM3IDQuNDUtNS40NCA0QTQuNTEgNC41MSAwIDAgMCAzNSA3MXYzNy43OEE2OC40OSA2OC40OSAwIDAgMSA5LjU1IDcxWk00NCAxMTQuNTR2LTQxLjJsMjQuOS0xOC4xNWE0LjUgNC41IDAgMCAwIDEuNDktNS40M2MtMi44OC02LjY1LTkuODEtMjcuNTYtNC4xMy0zNi4yMSAxLjgyLTIuNzggNS00LjEyIDkuNzQtNC4xMnM3LjkyIDEuMzQgOS43NCA0LjEyYzUuNjggOC42NS0xLjI1IDI5LjU2LTQuMTMgMzYuMjFhNC41IDQuNSAwIDAgMCAxLjQ5IDUuNDNMMTA4IDczLjM0djQxLjJhNjcuOTQgNjcuOTQgMCAwIDEtNjQuMDggMFptNzMuMDktNS43MlY3MWE0LjUxIDQuNTEgMCAwIDAtMS44NS0zLjY0bC01LjQ0LTQgNS4zMy00LjM2YTQuNDkgNC40OSAwIDAgMCAxLjI2LTUuMjZjLTIuMjItNS4xLTcuNTUtMjEuMTctMy4xMi0yNy45Mi41Mi0uNzkgMi4xLTMuMiA3LjgzLTMuMnM3LjIgMi4zOCA3LjcyIDMuMTZjNCA2IC4yNiAyMC4zNC0zIDI4YTQuNTIgNC41MiAwIDAgMCAxLjM2IDUuMzJsMTUuMjcgMTJhNjguNDkgNjguNDkgMCAwIDEtMjUuNCAzNy43MloiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48cGF0aCBzdHlsZT0iZmlsbDpub25lIiBkPSJNMCAwaDE1MnYxMzJIMHoiLz48cGF0aCBkPSJNMjIzIDQuNWgtNDRhMSAxIDAgMCAwLTEgMXYxMGExIDEgMCAwIDAgMSAxaDE1LjV2OTdhMSAxIDAgMCAwIDEgMWgxMWExIDEgMCAwIDAgMS0xdi05N0gyMjNhMSAxIDAgMCAwIDEtMXYtMTBhMSAxIDAgMCAwLTEtMVpNMjQzLjUgMzYuNUgyMjVhMSAxIDAgMCAwLTEgMXY4OWExIDEgMCAwIDAgMSAxaDExYTEgMSAwIDAgMCAxLTF2LTEyaDYuNUExOS41IDE5LjUgMCAwIDAgMjYzIDk1VjU2YTE5LjUgMTkuNSAwIDAgMC0xOS41LTE5LjVabTAgNjVIMjM3di01Mmg2LjVBNi41MyA2LjUzIDAgMCAxIDI1MCA1NnYzOWE2LjUzIDYuNTMgMCAwIDEtNi41IDYuNVpNNTEzIDM2LjVoLTI2QTE5LjUgMTkuNSAwIDAgMCA0NjcuNSA1NnYzOWExOS41IDE5LjUgMCAwIDAgMTkuNSAxOS41aDYuNXYxMmExIDEgMCAwIDAgMSAxaDExYTEgMSAwIDAgMCAxLTF2LTEyaDYuNUExOS41IDE5LjUgMCAwIDAgNTMyLjUgOTVWNTZBMTkuNSAxOS41IDAgMCAwIDUxMyAzNi41Wm0tMTkuNSA2NUg0ODdhNi41MSA2LjUxIDAgMCAxLTYuNS02LjVWNTZhNi41MiA2LjUyIDAgMCAxIDYuNS02LjVoNi41Wm0yNi02LjVhNi41MSA2LjUxIDAgMCAxLTYuNSA2LjVoLTYuNXYtNTJoNi41YTYuNTIgNi41MiAwIDAgMSA2LjUgNi41Wk0yOTkuMDYgMzcuNXY0OS42YTYuNjcgNi42NyAwIDAgMS01LjY0IDYuNjggNi41MSA2LjUxIDAgMCAxLTcuMzYtNi40NVYzNy41YTEgMSAwIDAgMC0xLTFoLTExYTEgMSAwIDAgMC0xIDF2NDkuMjZhMTkuOTQgMTkuOTQgMCAwIDAgMTUuODEgMTkuNzEgMTkuMjEgMTkuMjEgMCAwIDAgMTAuMTktLjc3djIuM2E2LjUzIDYuNTMgMCAwIDEtNi41IDYuNWgtMTIuNWExIDEgMCAwIDAtMSAxdjExYTEgMSAwIDAgMCAxIDFoMTIuNWExOS41IDE5LjUgMCAwIDAgMTkuNS0xOS41VjM3LjVhMSAxIDAgMCAwLTEtMWgtMTFhMSAxIDAgMCAwLTEgMVpNMzYxLjM5IDM2LjVoLTExYTEgMSAwIDAgMC0xIDF2MjJhNi41MyA2LjUzIDAgMCAxLTYuNSA2LjVoLTYuNVYzNy41YTEgMSAwIDAgMC0xLTFoLTExYTEgMSAwIDAgMC0xIDF2NzZhMSAxIDAgMCAwIDEgMWgxMWExIDEgMCAwIDAgMS0xdi0zM2g2LjVhNi41MyA2LjUzIDAgMCAxIDYuNSA2LjV2MjYuNWExIDEgMCAwIDAgMSAxaDExYTEgMSAwIDAgMCAxLTFWODdhMTkuNDMgMTkuNDMgMCAwIDAtNS42OC0xMy43NSAxOS40MyAxOS40MyAwIDAgMCA1LjY4LTEzLjc1di0yMmExIDEgMCAwIDAtMS0xWk0zOTEgMzYuNUExOS41IDE5LjUgMCAwIDAgMzcxLjUgNTZ2MzlhMTkuNSAxOS41IDAgMCAwIDM5IDBWNTZBMTkuNSAxOS41IDAgMCAwIDM5MSAzNi41Wm0wIDY1YTYuNTEgNi41MSAwIDAgMS02LjUtNi41VjU2YTYuNSA2LjUgMCAwIDEgMTMgMHYzOWE2LjUxIDYuNTEgMCAwIDEtNi41IDYuNVpNNDQ1LjUgMzcuNVY2OWgtMTNWMzcuNWExIDEgMCAwIDAtMS0xaC0xMWExIDEgMCAwIDAtMSAxdjc2YTEgMSAwIDAgMCAxIDFoMTFhMSAxIDAgMCAwIDEtMVY4MmgxM3YzMS41YTEgMSAwIDAgMCAxIDFoMTFhMSAxIDAgMCAwIDEtMXYtNzZhMSAxIDAgMCAwLTEtMWgtMTFhMSAxIDAgMCAwLTEgMVoiIHN0eWxlPSJmaWxsOiMwMDk3YTciLz48L3N2Zz4=)";
    }
    // console.log('clicked', elTitle.innerHTML);
  }
}

function checkRedirect(elem) {
  var curWeb = window.location.hostname;
  var elemLang = elem.target.href;
  // console.log('clicked', elemLang, curWeb);

  if(elemLang.includes('/ru/') && curWeb.match(/(.*\.?)(trueconf\.com$)/gm)){
    // console.log('RU', elemLang, curWeb, elem.target.pathname);
    window.open('https://'+curWeb.replace('.com', '.ru')+elem.target.pathname, '_self');
  }
  else if (!elemLang.includes('/ru/') && curWeb.match(/(.*\.?)(trueconf\.ru$)/gm)){
    // console.log('EN', elemLang, curWeb, elem.target.pathname);
    window.open('https://'+curWeb.replace('.ru', '.com')+elem.target.pathname, '_self');
  }
}

function setTitle() {
  setTimeout(() => {
    sleepSetTitle();
  }, 200);
}

window.addEventListener("load", function()
{
  var elTitle = document.querySelector('.home-link');
  const elTitleNew = elTitle.cloneNode(true);
  elTitle.style.display = 'none';
  elTitle.parentNode.appendChild(elTitleNew);
  elTitleNew.id ='new-title';
  elTitle.id='old-title';
  setTitle();
});

function setLanguageClick() {
  setTimeout(() => {
    var languageSelectors = document.querySelectorAll('button[aria-label="Lang"] + ul li a');
    // console.dir(languageSelectors);
    for (let index = 0; index < languageSelectors.length; index++) {
      languageSelectors[index].addEventListener("click", checkRedirect);
      languageSelectors[index].addEventListener("click", setTitle);
    };
  }, 50);
}

window.addEventListener("pageshow", function()
{
  var elTitle = document.querySelector('.home-link');
  elTitle.querySelector('span').setAttribute('onclick', '');
  var navSelectors = document.querySelectorAll('button[aria-label="Lang"]');
  for (let index = 0; index < navSelectors.length; index++) {
    navSelectors[index].addEventListener("click", setLanguageClick);
    navSelectors[index].addEventListener("mouseover", setLanguageClick);
  };
});