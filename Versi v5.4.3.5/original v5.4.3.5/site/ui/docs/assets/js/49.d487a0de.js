(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{346:function(t,s,a){"use strict";a.r(s);var r=a(8),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",{attrs:{id:"start-settings"}}),t._v(" "),s("h1",{attrs:{id:"начальная-настроика"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#начальная-настроика"}},[t._v("#")]),t._v(" Начальная настройка")]),t._v(" "),s("locale-warning",{attrs:{lang:"es"}}),t._v(" "),s("p",{attrs:{id:"server-administration"}}),t._v(" "),s("h2",{attrs:{id:"настроика-доступа-к-панели-управления"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#настроика-доступа-к-панели-управления"}},[t._v("#")]),t._v(" Настройка доступа к панели управления")]),t._v(" "),s("p",[t._v("По умолчанию сервер можно администрировать через любой компьютер локальной сети, в которой он установлен, то есть доступ ограничен следующими диапазонами IP адресов: "),s("code",[t._v("10.*")]),t._v(", "),s("code",[t._v("192.168.*")]),t._v(", "),s("code",[t._v("172.16-172.31")]),t._v(", "),s("code",[t._v("127.*")]),t._v(".")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("Подробнее настройки доступа рассмотрены в описании "),s("RouterLink",{attrs:{to:"/admin/web-config/#web-security"}},[t._v("раздела "),s("interface",{attrs:{ru:"{Веб}{Безопасность}",en:"{Web}{Security}"}})],1),t._v(".")],1)]),t._v(" "),s("p",[t._v("При этом удалённый доступ к панели управления "),s("Const",{attrs:{name:"product-server"}}),t._v(" требует авторизации с учётными данными пользователя, который входит в одну из групп:")],1),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[s("Const",{attrs:{name:"admin-server-group"}})],1),t._v(" на Windows ("),s("strong",[s("Const",{attrs:{name:"admin-server-group-linux"}})],1),t._v(" на ОС семейства Linux) — для администрирования сервера;")])]),t._v(" "),s("li",[s("p",[s("strong",[s("Const",{attrs:{name:"security-server-group"}})],1),t._v(" на Windows ("),s("strong",[s("Const",{attrs:{name:"security-server-group-linux"}})],1),t._v(" на ОС семейства Linux) — для просмотра отчётов и записей видеоконференций.")])])]),t._v(" "),s("p",[t._v("При установке сервера на ОС Windows в первую группу добавляется текущая учётная запись пользователя. На ОС Linux в группу "),s("strong",[s("Const",{attrs:{name:"admin-server-group-linux"}})],1),t._v(" добавляются пользователи, "),s("RouterLink",{attrs:{to:"/admin/server-part/#server-installation-linux"}},[t._v("указанные вручную в процессе установки")]),t._v(". Для предоставления доступа к панели управления другому пользователю администратор должен добавить его учётную запись в одну из групп.")],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("Как создать новую учётную запись в различных ОС и добавить её в нужную группу, подробно "),s("RouterLink",{attrs:{to:"/admin/security-admin/#add-security-admin"}},[t._v("показано на примере администратора "),s("Const",{attrs:{name:"security-server-group"}})],1),t._v(".")],1),t._v(" "),s("p",[s("const",{attrs:{name:"product-server"}}),t._v(" не имеет ограничений на количество администраторов каждого типа.")],1)]),t._v(" "),s("p",[t._v("Если вы хотите настраивать сервер удалённо с другой машины, то убедитесь, что firewall сервера позволяет соединение по порту, выбранному для доступа к панели управления (по умолчанию это порт "),s("code",[t._v("80")]),t._v("), и что данная возможность была активирована в "),s("RouterLink",{attrs:{to:"/admin/web-config/#web-security"}},[t._v("настройках безопасности панели управления")]),t._v(".")],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("О том, как управлять "),s("Const",{attrs:{name:"product-server"}}),t._v(" с компьютера вне сети, мы рассказали "),s("to-site",{attrs:{alias:"offline-control"}},[t._v("в соответствующей статье базы знаний")]),t._v(".")],1)]),t._v(" "),s("lang-filter",{attrs:{lang:"ru"}},[s("p",[s("strong",[t._v("Проблема с входом в панель управления после смены пароля")])]),t._v(" "),s("p",[t._v("На РЕД ОС имеются особенности, связанные с работой списков управления расширенными правами доступа к файлам (ACL, Access control lists). После смены пароля пользователя ОС, который состоит в группе администраторов "),s("const",{attrs:{name:"product-server"}}),t._v(" ("),s("strong",[s("const",{attrs:{name:"security-server-group-linux"}})],1),t._v(" или "),s("strong",[s("const",{attrs:{name:"admin-server-group-linux"}})],1),t._v("), а также после добавлении в одну из этих групп нового пользователя требуется выполнить команду (обязательно от имени администратора):")],1),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("setfacl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" u:trueconf:r /etc/shadow\n")])])]),s("p",[t._v("Без этой команды не получится войти в панель управления "),s("const",{attrs:{name:"product-server"}}),t._v(".")],1)]),t._v(" "),s("p",{attrs:{id:"check-status"}}),t._v(" "),s("h2",{attrs:{id:"статус-сервера"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#статус-сервера"}},[t._v("#")]),t._v(" Статус сервера")]),t._v(" "),s("p",[t._v("Текущее состояние "),s("Const",{attrs:{name:"product-server"}}),t._v(" отображается в строке "),s("interface",{attrs:{ru:"Статус сервера",en:"Server status"}}),t._v(" в виде текста "),s("span",{staticStyle:{color:"green"}},[s("strong",[t._v("зелёного")])]),t._v(" (если он работает) или "),s("span",{staticStyle:{color:"red"}},[s("strong",[t._v("красного")])]),t._v(" (если он остановлен) цвета в правом верхнем углу панели управления:")],1),t._v(" "),s("StdPic",{attrs:{id:"status"}}),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Что делать, если сервер не запускается?")]),t._v(" "),s("p",[t._v("В строке "),s("interface",{attrs:{ru:"Статус сервера",en:"Server status"}}),t._v(" отображается текст "),s("interface",{attrs:{ru:"Остановлен",en:"Stopped"}}),t._v(".")],1),t._v(" "),s("p",[t._v("Этому есть три возможные причины:")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("отсутствие лицензии")]),t._v(": обратитесь к поставщикам системы для получения лицензии")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("файлы сервера отсутствуют или повреждены")]),t._v(": переустановите сервер "),s("Const",{attrs:{name:"product-server"}}),t._v(" (см. раздел "),s("RouterLink",{attrs:{to:"/admin/server-part/#server-installation"}},[t._v("Установка сервера")]),t._v(")")],1)]),t._v(" "),s("li",[s("p",[s("strong",[t._v("сломался аппаратный ключ сервера")]),t._v(": ознакомьтесь с "),s("to-site",{attrs:{alias:"fix-check-cert"}},[t._v("инструкцией для решения проблемы с ключом")]),t._v(".")],1)])])]),t._v(" "),s("p",{attrs:{id:"server-log-files"}}),t._v(" "),s("h2",{attrs:{id:"журнал-сервера"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#журнал-сервера"}},[t._v("#")]),t._v(" Журнал сервера")]),t._v(" "),s("p",[t._v("При возникновении неполадок на сервере служба поддержки "),s("Const",{attrs:{name:"company-name"}}),t._v(" сможет помочь вам быстрее и эффективнее при "),s("to-site",{attrs:{alias:"server-logs"}},[t._v("наличии логов сервера")]),t._v(". Основной лог сервера можно посмотреть в журнале, доступном по кнопке "),s("interface",{attrs:{ru:"{Система}{Журнал сервера}",en:"{System}{Server log}"}}),t._v(" в верхнем правом углу.")],1),t._v(" "),s("StdPic",{attrs:{id:"journal_menu_button"}}),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("Чтобы логи были максимально информативными, "),s("RouterLink",{attrs:{to:"/admin/web-config/#settings"}},[t._v("в разделе "),s("interface",{attrs:{ru:"{Панель управления}{Настройки}",en:"{Dashboard}{Settings}"}})],1),t._v(" должна быть активирована опция "),s("interface",{attrs:{ru:"Включить подробное логирование",en:"Enable detailed logging"}}),t._v(". Сотрудники службы технической поддержки могут попросить вас сделать это чтобы облегчить процесс устранения неполадок.")],1)]),t._v(" "),s("p",[t._v("Также в рабочем каталоге "),s("Const",{attrs:{name:"product-server"}}),t._v(" сохраняется ряд дополнительных лог-файлов, о которых подробно рассказано в "),s("to-site",{attrs:{alias:"server-logs-types"}},[t._v("соответствующей статье базы знаний")]),t._v(".")],1),t._v(" "),s("p",{attrs:{id:"preferences"}}),t._v(" "),s("h2",{attrs:{id:"настроика-предпочтении"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#настроика-предпочтении"}},[t._v("#")]),t._v(" Настройка предпочтений")]),t._v(" "),s("p",[t._v("Некоторые настройки могут быть установлены персонально для каждого администратора сервера: язык интерфейса панели управления, часовой пояс, параметры экспорта отчётов.")]),t._v(" "),s("StdPic",{attrs:{id:"preferences"}}),t._v(" "),s("ol",[s("li",[s("p",[t._v("Перейдите в меню "),s("interface",{attrs:{ru:"{Система}{Предпочтения...}",en:"{System}{Preferences...}"}}),t._v(" в правом верхнем углу панели управления.")],1)]),t._v(" "),s("li",[s("p",[t._v("Выберите предпочитаемый язык интерфейса панели управления, а также часовой пояс. Данное значение будет влиять на отображение времени событий во всех "),s("RouterLink",{attrs:{to:"/admin/web-config/#reports"}},[t._v("журналах сервера")]),t._v(", а также автоматически применяться в соответствующем поле при "),s("RouterLink",{attrs:{to:"/admin/web-config/#general-tab"}},[t._v("планировании конференций")]),t._v(". Вы можете использовать часовой пояс машины, на которой развёрнут сервер, отметив соответствующий флажок.")],1)]),t._v(" "),s("li",[s("p",[t._v("В секции "),s("interface",{attrs:{ru:"Экспорт CSV",en:"Export to CSV"}}),t._v(" можно настроить параметры "),s("RouterLink",{attrs:{to:"/admin/web-config/#reports"}},[t._v("экспорта отчётов")]),t._v(" – используемую кодировку и символ-разделитель для представления строки таблицы в текстовом формате.")],1)])]),t._v(" "),s("p",[t._v("После изменения предпочтений нажмите "),s("interface",{attrs:{ru:"Применить",en:"Apply "}}),t._v(" чтобы сохранить их.")],1),t._v(" "),s("p",{attrs:{id:"client-side"}}),t._v(" "),s("h2",{attrs:{id:"подключение-пользователеи"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#подключение-пользователеи"}},[t._v("#")]),t._v(" Подключение пользователей")]),t._v(" "),s("p",{attrs:{id:"guest-page"}}),t._v(" "),s("h3",{attrs:{id:"где-пользователям-взять-клиентские-приложения"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#где-пользователям-взять-клиентские-приложения"}},[t._v("#")]),t._v(" Где пользователям взять клиентские приложения")]),t._v(" "),s("p",[t._v("Чтобы пользователи вашего сервера могли подключиться к системе видеоконференцсвязи, распространите среди них ссылку на "),s("destination",{attrs:{source:"web"}},[s("a",{attrs:{href:"../../user/guest-page/",target:"_blank"}},[t._v("гостевую страницу")])]),s("destination",{attrs:{source:"pdf"}},[s("to-site",{attrs:{alias:"guest-page"}},[t._v("гостевую страницу")])],1),t._v(", где можно скачать клиентские приложения для всех поддерживаемых платформ.")],1),t._v(" "),s("p",[t._v("Гостевая страница доступна по адресу "),s("code",[t._v("http[s]://<server>[:<port>]")]),t._v(", где:")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("<server>")]),t._v(" — адрес компьютера с "),s("Const",{attrs:{name:"product-server"}}),t._v(";")],1)]),t._v(" "),s("li",[s("p",[s("code",[t._v("<port>")]),t._v(" — порт, отведённый под панель управления администратора (если используется значение по умолчанию — порт "),s("code",[t._v("80")]),t._v(" — его можно не указывать).")])])]),t._v(" "),s("p",[t._v("Например:")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("https://videoserver.company.com")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("http://100.120.12.12:7777")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("Вы можете настроить ссылку на гостевую страницу в меню "),s("RouterLink",{attrs:{to:"/admin/web-config/#web-settings"}},[s("interface",{attrs:{ru:"{Веб} {Настройки}",en:"{Web} {Settings}"}})],1),t._v(" панели управления.")],1)]),t._v(" "),s("p",{attrs:{id:"client-application-connection"}}),t._v(" "),s("h3",{attrs:{id:"подключение-клиентского-приложения-к-trueconf-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#подключение-клиентского-приложения-к-trueconf-server"}},[t._v("#")]),t._v(" Подключение клиентского приложения к TrueConf Server")]),t._v(" "),s("p",[t._v("Чтобы приложение подключилось к вашему серверу и пользователь мог авторизоваться на нём, необходимо указать приложению адрес сервера в сети. Сделать это можно вручную или дать приложению возможность найти сервер автоматически через DNS.")]),t._v(" "),s("p",[t._v("После подключения к нужному серверу пользователь должен будет пройти авторизацию, введя "),s("RouterLink",{attrs:{to:"/admin/web-config/#single-user-profile"}},[t._v("логин и пароль")]),t._v(".")],1),t._v(" "),s("p",{attrs:{id:"configuring-the-client-application"}}),t._v(" "),s("h4",{attrs:{id:"ручная-настроика-клиентского-приложения"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ручная-настроика-клиентского-приложения"}},[t._v("#")]),t._v(" Ручная настройка клиентского приложения")]),t._v(" "),s("p",[t._v("Ручная настройка связи с сервером заключается в том, чтобы пользователь сам ввёл в меню сетевых настроек приложения (либо при первом его запуске) адрес сервера и порт для подключения. Подробные инструкции по подключению к серверу каждого конкретного приложения доступны на гостевой странице.")]),t._v(" "),s("p",{attrs:{id:"connection-using-auto-discovering"}}),t._v(" "),s("h4",{attrs:{id:"настроика-автоматического-подключения"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#настроика-автоматического-подключения"}},[t._v("#")]),t._v(" Настройка автоматического подключения")]),t._v(" "),s("p",[t._v("Клиентское приложение может автоматически найти "),s("Const",{attrs:{name:"product-server"}}),t._v(" в локальной сети. Для этого надо указать адрес сервера в домене DNS, являющийся для клиентского компьютера первичным доменом ("),s("strong",[t._v("primary DNS suffix")]),t._v("). В нужном домене необходимо создать SRV-запись сервиса vcs2.tcp и указать в ней адрес и порт сервера.")],1),t._v(" "),s("p",[t._v("Пример настройки для утилиты DNS из Microsoft Windows 2012 Server:")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("в меню правой кнопки целевого домена выбрать "),s("strong",[t._v("Тип записи ресурса")]),t._v(";")])]),t._v(" "),s("li",[s("p",[t._v("из списка выбрать тип "),s("strong",[t._v("Расположение службы (запись SRV)")]),t._v(";")])]),t._v(" "),s("li",[s("p",[t._v("установить настройки согласно изображению.")])])]),t._v(" "),s("StdPic",{attrs:{id:"dns"}}),t._v(" "),s("p",[t._v("В этом примере сервер доступен по адресу "),s("strong",[t._v("videoserver.your.domain.com")]),t._v(" и порту 4307. Обратите внимание, что название протокола (tcp) не содержит подчёркивания.")]),t._v(" "),s("p",{attrs:{id:"set-pdf-import"}}),t._v(" "),s("h2",{attrs:{id:"настроика-импорта-pdf-фаилов"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#настроика-импорта-pdf-фаилов"}},[t._v("#")]),t._v(" Настройка импорта PDF-файлов")]),t._v(" "),s("p",[t._v("При использовании "),s("Const",{attrs:{name:"product-server"}}),t._v(", в том числе и его бесплатной версии, становятся доступными все "),s("RouterLink",{attrs:{to:"/admin/introduction/#collaboration-tools-list"}},[t._v("инструменты совместной работы")]),t._v(": показ рабочего стола и окон приложений, демонстрация презентаций, управление удалённым рабочим столом и пр. Но для показа в клиентском приложении "),s("Const",{attrs:{name:"product-windows-client"}}),t._v(" "),s("to-site",{attrs:{alias:"pdf-import"}},[t._v("презентаций, созданных из PDF-файлов")]),t._v(", требуется настроить дополнительно стороннее ПО.")],1),t._v(" "),s("p",[t._v("Для создания презентации из файла PDF и для просмотра PDF прямо в "),s("Const",{attrs:{name:"product-windows-client"}}),t._v(" используется open-source библиотека "),s("strong",[t._v("Ghostscript")]),t._v(". Она автоматически скачается с "),s("Const",{attrs:{name:"product-server"}}),t._v(" и установится на ПК пользователя при импорте первого файла PDF. Но т.к. она не встроена в ПО "),s("Const",{attrs:{name:"company-name"}}),t._v(", то необходимо предварительно вручную настроить её на стороне сервера.")],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("В клиентских приложениях "),s("Const",{attrs:{name:"company-name"}}),t._v(" для Linux и macOS используются системные библиотеки для работы с файлами PDF, их импорт должен быть доступен при подключении как к "),s("Const",{attrs:{name:"product-server"}}),t._v(" для Linux так и к "),s("Const",{attrs:{name:"product-server"}}),t._v(" для Windows. При возникновении проблем или дополнительных вопросов по этой возможности обращайтесь в "),s("to-site",{attrs:{alias:"support"}},[t._v("нашу техническую поддержку")]),t._v(".")],1)]),t._v(" "),s("p",{attrs:{id:"set-pdf-import-windows"}}),t._v(" "),s("h3",{attrs:{id:"trueconf-server-для-windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trueconf-server-для-windows"}},[t._v("#")]),t._v(" TrueConf Server для Windows")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Обратитесь в "),s("to-site",{attrs:{alias:"support"}},[t._v("техническую поддержку "),s("Const",{attrs:{name:"company-name"}})],1),t._v(" с просьбой предоставить архив с готовыми скомпилированными библиотеками Ghostscript. В нём должно быть 4 файла: "),s("strong",[t._v("gsdll86.lib, gsdll64.lib, gsdll86.dll, gsdll64.dll")]),t._v(".")],1)]),t._v(" "),s("li",[s("p",[t._v("В "),s("RouterLink",{attrs:{to:"/admin/info/#settings"}},[t._v("рабочей папке "),s("Const",{attrs:{name:"product-server"}})],1),t._v(" (по умолчанию "),s("code",[t._v("C:\\TrueConf\\")]),t._v(") создайте каталог "),s("code",[t._v("third_party_extensions")]),t._v(".")],1)]),t._v(" "),s("li",[s("p",[t._v("Распакуйте в него полученный на 1 шаге архив.")])]),t._v(" "),s("li",[s("p",[t._v("Откройте реестр (например, выполнив в консоли команду "),s("strong",[t._v("regedit")]),t._v(").")])]),t._v(" "),s("li",[s("p",[t._v("Перейдите в ветку реестра")])])]),t._v(" "),s("p",[s("code",[t._v("HKEY_LOCAL_MACHINE\\SOFTWARE\\TrueConf\\Server\\AppProperties")])]),t._v(" "),s("p",[t._v("и создайте там строковый параметр "),s("code",[t._v("pdflibrary_url")]),t._v(" со значением "),s("code",[t._v("https://[server_address]/third-party-extensions/gsdll.dll")]),t._v(", где "),s("code",[t._v("[server_address]")]),t._v(" – FQDN (доменное имя) или IP-адрес "),s("Const",{attrs:{name:"product-server"}}),t._v(", по которому он доступен для подключения из клиентских приложений.")],1),t._v(" "),s("p",[t._v("6. Откройте файл "),s("code",[t._v("[installation_path]\\httpconf\\opt\\redirects.conf")]),t._v(" в текстовом редакторе, где "),s("code",[t._v("[installation_path]")]),t._v(" – путь установки сервера, и добавьте с новой строки следующий текст (при условии, что все остальные строки закомментированы):")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("RewriteEngine On\n\nInclude opt/work_dir.conf\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IfDefine work_dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  RewriteCond  %"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("REQUEST_URI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  ^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/third-party-extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/gsdll.dll$\n  RewriteCond  %"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("QUERY_STRING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" ^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?\n  RewriteRule  ^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${work_dir}")]),t._v('/third_party_extensions/gsdll%3.dll"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("L,QSA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/IfDefine"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IfDefine work_dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    AliasMatch  ^/third-party-extensions/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${work_dir}")]),t._v("/third_party_extensions/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/IfDefine"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("7. Перезапустите службы "),s("Const",{attrs:{name:"product-server"}}),t._v(" и "),s("Const",{attrs:{name:"company-name"}}),t._v(" Web Manager. Используйте для этого диспетчер задач, т.к. перезапуск сервера из его панели управления не затрагивает службу "),s("Const",{attrs:{name:"company-name"}}),t._v(" Web Manager.")],1),t._v(" "),s("p",{attrs:{id:"set-pdf-import-linux"}}),t._v(" "),s("h3",{attrs:{id:"trueconf-server-для-linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trueconf-server-для-linux"}},[t._v("#")]),t._v(" TrueConf Server для Linux")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[s("Const",{attrs:{name:"empty-title"}})],1),t._v(" "),s("p",[t._v("Перечисленные далее команды требуется выполнять с правами суперпользователя или с помощью утилиты "),s("code",[t._v("sudo")]),t._v(", например, "),s("code",[t._v("sudo command")]),t._v(". Учтите, что по умолчанию "),s("strong",[t._v("sudo")]),t._v(" может отсутствовать в ОС, проверить его наличие можно командой "),s("code",[t._v("sudo -V")]),t._v(".")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Обратитесь в "),s("to-site",{attrs:{alias:"support"}},[t._v("техническую поддержку "),s("Const",{attrs:{name:"company-name"}})],1),t._v(" с просьбой предоставить архив с готовыми скомпилированными библиотеками Ghostscript. В нём должно быть 4 файла: "),s("strong",[t._v("gsdll86.lib, gsdll64.lib, gsdll86.dll, gsdll64.dll")]),t._v(".")],1)]),t._v(" "),s("li",[s("p",[t._v("Создайте файл конфигурации для редиректа, например, с помощью "),s("strong",[t._v("nano")]),t._v(" в терминале:")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" /opt/trueconf/server/etc/webmanager/opt/redirects.conf\n")])])]),s("p",[t._v("3. Запишите в файл конфигурации следующие строки и сохраните его:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("RewriteEngine On\nInclude /opt/trueconf/server/etc/webmanager/opt/work_dir.conf\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IfDefine work_dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nRewriteCond %"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("REQUEST_URI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" ^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/third-party-extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/gsdll.dll$\nRewriteCond %"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("QUERY_STRING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" ^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?\nRewriteRule ^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${work_dir}")]),t._v('/third_party_extensions/gsdll%3.dll"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("L,QSA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/IfDefine"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IfDefine work_dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nAliasMatch ^/third-party-extensions/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${work_dir}")]),t._v("/third_party_extensions/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/IfDefine"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("4. Добавьте параметр со ссылкой для подгрузки в приложение необходимых библиотек, выполнив команду:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("/opt/trueconf/server/bin/vcs/tc_regkey "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AppProperties"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pdflibrary_url"')]),t._v(" str "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://[server_address]/third-party-extensions/gsdll.dll"')]),t._v("\n")])])]),s("p",[t._v("где "),s("code",[t._v("[server_address]")]),t._v(" – FQDN (доменное имя) или IP-адрес "),s("Const",{attrs:{name:"product-server"}}),t._v(", по которому он доступен для подключения из клиентских приложений.")],1),t._v(" "),s("p",[t._v("5. Создайте каталог для библиотек:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /opt/trueconf/server/var/lib/third_party_extensions\n")])])]),s("p",[t._v("6. В каталог "),s("code",[t._v("third_party_extensions")]),t._v(" распакуйте все файлы из полученного на 1 шаге архива.")]),t._v(" "),s("p",[t._v("7. Перезапустите службы веба-сервера и основную службу "),s("const",{attrs:{name:"product-server"}}),t._v(":")],1),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("systemctl restart trueconf-web\n\nsystemctl restart trueconf\n")])])]),s("toTopButton")],1)}),[],!1,null,null,null);s.default=e.exports}}]);